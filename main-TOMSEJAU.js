var dE=Object.create;var Bo=Object.defineProperty,fE=Object.defineProperties,hE=Object.getOwnPropertyDescriptor,pE=Object.getOwnPropertyDescriptors,mE=Object.getOwnPropertyNames,Dp=Object.getOwnPropertySymbols,gE=Object.getPrototypeOf,Cp=Object.prototype.hasOwnProperty,vE=Object.prototype.propertyIsEnumerable;var Ip=(e,t,n)=>t in e?Bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||={})Cp.call(t,n)&&Ip(e,n,t[n]);if(Dp)for(var n of Dp(t))vE.call(t,n)&&Ip(e,n,t[n]);return e},Y=(e,t)=>fE(e,pE(t));var T=(e,t)=>()=>(e&&(t=e(e=0)),t);var Oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$o=(e,t)=>{for(var n in t)Bo(e,n,{get:t[n],enumerable:!0})},Sp=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mE(t))!Cp.call(e,o)&&o!==n&&Bo(e,o,{get:()=>t[o],enumerable:!(r=hE(t,o))||r.enumerable});return e};var bE=(e,t,n)=>(n=e!=null?dE(gE(e)):{},Sp(t||!e||!e.__esModule?Bo(n,"default",{value:e,enumerable:!0}):n,e)),Ge=e=>Sp(Bo({},"__esModule",{value:!0}),e);var h=(e,t,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(l){o(l)}},s=c=>{try{a(n.throw(c))}catch(l){o(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(e,t)).next())});var kn={};$o(kn,{__addDisposableResource:()=>um,__assign:()=>Rs,__asyncDelegator:()=>rm,__asyncGenerator:()=>ks,__asyncValues:()=>Ps,__await:()=>Et,__awaiter:()=>_,__classPrivateFieldGet:()=>am,__classPrivateFieldIn:()=>lm,__classPrivateFieldSet:()=>cm,__createBinding:()=>Os,__decorate:()=>qp,__disposeResources:()=>dm,__esDecorate:()=>Gp,__exportStar:()=>Xp,__extends:()=>zp,__generator:()=>Qp,__importDefault:()=>sm,__importStar:()=>im,__makeTemplateObject:()=>om,__metadata:()=>Jp,__param:()=>Wp,__propKey:()=>Zp,__read:()=>eu,__rest:()=>jt,__rewriteRelativeImportExtension:()=>fm,__runInitializers:()=>Kp,__setFunctionName:()=>Yp,__spread:()=>em,__spreadArray:()=>nm,__spreadArrays:()=>tm,__values:()=>Ns,default:()=>PE});function zp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ql(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function jt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function qp(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function Wp(e,t){return function(n,r){t(n,r,e)}}function Gp(e,t,n,r,o,i){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?r.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,p=!1,f=n.length-1;f>=0;f--){var m={};for(var g in r)m[g]=g==="access"?{}:r[g];for(var g in r.access)m.access[g]=r.access[g];m.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(y||null))};var b=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[c],m);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=s(b.get))&&(u.get=d),(d=s(b.set))&&(u.set=d),(d=s(b.init))&&o.unshift(d)}else(d=s(b))&&(a==="field"?o.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),p=!0}function Kp(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function Zp(e){return typeof e=="symbol"?e:"".concat(e)}function Yp(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Jp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Qp(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xp(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Os(t,e,n)}function Ns(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eu(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function em(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eu(arguments[t]));return e}function tm(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function nm(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Et(e){return this instanceof Et?(this.v=e,this):new Et(e)}function ks(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(m){return Promise.resolve(m).then(f,d)}}function a(f,m){r[f]&&(o[f]=function(g){return new Promise(function(b,y){i.push([f,g,b,y])>1||c(f,g)})},m&&(o[f]=m(o[f])))}function c(f,m){try{l(r[f](m))}catch(g){p(i[0][3],g)}}function l(f){f.value instanceof Et?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,m){f(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function rm(e){var t,n;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=e[o]?function(s){return(n=!n)?{value:Et(e[o](s)),done:!1}:i?i(s):s}:i}}function Ps(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ns=="function"?Ns(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function om(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function im(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Xl(e),r=0;r<n.length;r++)n[r]!=="default"&&Os(t,e,n[r]);return OE(t,e),t}function sm(e){return e&&e.__esModule?e:{default:e}}function am(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function cm(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n}function lm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function um(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}function dm(e){function t(i){e.error=e.hasError?new kE(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function o(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return t(s),o()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function fm(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?t?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):e}var Ql,Rs,Os,OE,Xl,kE,PE,ne=T(()=>{"use strict";Ql=function(e,t){return Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ql(e,t)};Rs=function(){return Rs=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rs.apply(this,arguments)};Os=Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};OE=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Xl=function(e){return Xl=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Xl(e)};kE=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};PE={__extends:zp,__assign:Rs,__rest:jt,__decorate:qp,__param:Wp,__esDecorate:Gp,__runInitializers:Kp,__propKey:Zp,__setFunctionName:Yp,__metadata:Jp,__awaiter:_,__generator:Qp,__createBinding:Os,__exportStar:Xp,__values:Ns,__read:eu,__spread:em,__spreadArrays:tm,__spreadArray:nm,__await:Et,__asyncGenerator:ks,__asyncDelegator:rm,__asyncValues:Ps,__makeTemplateObject:om,__importStar:im,__importDefault:sm,__classPrivateFieldGet:am,__classPrivateFieldSet:cm,__classPrivateFieldIn:lm,__addDisposableResource:um,__disposeResources:dm,__rewriteRelativeImportExtension:fm}});var b_,y_=T(()=>{"use strict";b_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t)});var ar,po,cr,lr,Qi,oh=T(()=>{"use strict";ar=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},po=class extends ar{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},cr=class extends ar{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},lr=class extends ar{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Qi=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Qi||{})});var Fc,__=T(()=>{"use strict";ne();y_();oh();Fc=class{constructor(t,{headers:n={},customFetch:r,region:o=Qi.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=b_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,p={},{region:f}=r;f||(f=this.region);let m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(p["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(p["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(p["Content-Type"]="application/json",g=JSON.stringify(l)):g=l;let b=u;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);let y=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:g,signal:b}).catch(q=>{throw new po(q)}),L=y.headers.get("x-relay-error");if(L&&L==="true")throw new cr(y);if(!y.ok)throw new lr(y);let E=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield y.json():E==="application/octet-stream"||E==="application/pdf"?D=yield y.blob():E==="text/event-stream"?D=y:E==="multipart/form-data"?D=yield y.formData():D=yield y.text(),{data:D,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof lr||a instanceof cr?a.context:void 0}}finally{i&&clearTimeout(i)}})}}});var ih={};$o(ih,{FunctionRegion:()=>Qi,FunctionsClient:()=>Fc,FunctionsError:()=>ar,FunctionsFetchError:()=>po,FunctionsHttpError:()=>lr,FunctionsRelayError:()=>cr});var sh=T(()=>{"use strict";__();oh()});var lh=Oe(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});var ah=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ch.default=ah});var fh=Oe(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var zM=(ne(),Ge(kn)),qM=zM.__importDefault(lh()),uh=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,c,l;let u=null,d=null,p=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){let L=yield i.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=L:d=JSON.parse(L))}let b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let b=yield i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&b===""?(f=204,m="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new qM.default(u)}return{error:u,data:d,count:p,status:f,statusText:m}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c,l,u,d;let p="",f=i?.cause;if(f){let m=(s=f?.message)!==null&&s!==void 0?s:"",g=(a=f?.code)!==null&&a!==void 0?a:"";p=`${(c=i?.name)!==null&&c!==void 0?c:"FetchError"}: ${i?.message}`,p+=`

Caused by: ${(l=f?.name)!==null&&l!==void 0?l:"Error"}: ${m}`,g&&(p+=` (${g})`),f?.stack&&(p+=`
${f.stack}`)}else p=(u=i?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};dh.default=uh});var mh=Oe(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var WM=(ne(),Ge(kn)),GM=WM.__importDefault(fh()),hh=class extends GM.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ph.default=hh});var Lc=Oe(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});var KM=(ne(),Ge(kn)),ZM=KM.__importDefault(mh()),YM=new RegExp("[,()]"),gh=class extends ZM.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}regexMatch(t,n){return this.url.searchParams.append(t,`match.${n}`),this}regexIMatch(t,n){return this.url.searchParams.append(t,`imatch.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}isDistinct(t,n){return this.url.searchParams.append(t,`isdistinct.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&YM.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};vh.default=gh});var _h=Oe(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var JM=(ne(),Ge(kn)),Xi=JM.__importDefault(Lc()),bh=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(t,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new Xi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Xi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Xi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Xi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};yh.default=bh});var E_=Oe(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var w_=(ne(),Ge(kn)),QM=w_.__importDefault(_h()),XM=w_.__importDefault(Lc()),wh=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${t}`);return new QM.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=n);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new XM.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Eh.default=wh});var Dh=Oe(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;var mo=(ne(),Ge(kn)),D_=mo.__importDefault(E_());Ne.PostgrestClient=D_.default;var I_=mo.__importDefault(_h());Ne.PostgrestQueryBuilder=I_.default;var C_=mo.__importDefault(Lc());Ne.PostgrestFilterBuilder=C_.default;var S_=mo.__importDefault(mh());Ne.PostgrestTransformBuilder=S_.default;var T_=mo.__importDefault(fh());Ne.PostgrestBuilder=T_.default;var x_=mo.__importDefault(lh());Ne.PostgrestError=x_.default;Ne.default={PostgrestClient:D_.default,PostgrestQueryBuilder:I_.default,PostgrestFilterBuilder:C_.default,PostgrestTransformBuilder:S_.default,PostgrestBuilder:T_.default,PostgrestError:x_.default}});var Ih,jc,Ch=T(()=>{"use strict";Ih=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},jc=Ih});var M_,A_=T(()=>{"use strict";M_="2.87.0"});var R_,Sh,N_,Th,es,O_,k_,ur,ce,st,xh,dr,Bc=T(()=>{"use strict";A_();R_=`realtime-js/${M_}`,Sh="1.0.0",N_="2.0.0",Th=Sh,es=1e4,O_=1e3,k_=100,ur=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(ur||{}),ce=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ce||{}),st=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(st||{}),xh=function(e){return e.websocket="websocket",e}(xh||{}),dr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(dr||{})});var $c,P_=T(()=>{"use strict";$c=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var o,i;let s=t.topic,a=(o=t.ref)!==null&&o!==void 0?o:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+p),m=new DataView(f),g=0;m.setUint8(g++,this.KINDS.userBroadcastPush),m.setUint8(g++,c.length),m.setUint8(g++,a.length),m.setUint8(g++,s.length),m.setUint8(g++,l.length),m.setUint8(g++,d.length),m.setUint8(g++,n),Array.from(c,y=>m.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>m.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>m.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>m.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>m.setUint8(g++,y.charCodeAt(0)));var b=new Uint8Array(f.byteLength+r.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(r),f.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+o));c=c+o;let u=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+s));c=c+s;let p=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,m={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}});var go,Mh=T(()=>{"use strict";go=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var te,Rh,eA,F_,Ah,tA,nA,rA,oA,iA,Uc,Vc=T(()=>{"use strict";te=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(te||{}),Rh=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=eA(s,e,t,o),i),{}):{}},eA=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?F_(i,s):Ah(s)},F_=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return oA(t,n)}switch(e){case te.bool:return tA(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return nA(t);case te.json:case te.jsonb:return rA(t);case te.timestamp:return iA(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Ah(t);default:return Ah(t)}},Ah=e=>e,tA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nA=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oA=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>F_(t,a))}return e},iA=e=>typeof e=="string"?e.replace(" ","T"):e,Uc=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href}});var vo,L_=T(()=>{"use strict";Bc();vo=class{constructor(t,n,r={},o=es){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}});var Nh,bo,Oh=T(()=>{"use strict";Nh=function(e){return e.SYNC="sync",e.JOIN="join",e.LEAVE="leave",e}(Nh||{}),bo=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let p=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),m=u.filter(b=>f.indexOf(b.presence_ref)<0),g=d.filter(b=>p.indexOf(b.presence_ref)<0);m.length>0&&(a[l]=m),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var kh,yo,Ot,j_,_o,Ph=T(()=>{"use strict";Bc();L_();Mh();Oh();Vc();Vc();kh=function(e){return e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e}(kh||{}),yo=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(yo||{}),Ot=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Ot||{}),j_=ce,_o=class e{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vo(this,st.join,this.params,this.timeout),this.rejoinTimer=new go(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new bo(this),this.broadcastEndpointURL=Uc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[yo.PRESENCE]&&this.bindings[yo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Ot.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Ot.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",m=>h(this,[m],function*({postgres_changes:f}){var g;if(this.socket.setAuth(),f===void 0){t?.(Ot.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,y=(g=b?.length)!==null&&g!==void 0?g:0,L=[];for(let E=0;E<y;E++){let D=b[E],{filter:{event:q,schema:wt,table:Z,filter:le}}=D,tn=f&&f[E];if(tn&&tn.event===q&&tn.schema===wt&&tn.table===Z&&tn.filter===le)L.push(Object.assign(Object.assign({},D),{id:tn.id}));else{this.unsubscribe(),this.state=ce.errored,t?.(Ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,t&&t(Ot.SUBSCRIBED);return}})).receive("error",f=>{this.state=ce.errored,t?.(Ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===ce.joined&&t===yo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}httpSend(o,i){return h(this,arguments,function*(t,n,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new vo(this,st.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new vo(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>k_){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=st;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var m,g,b;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=f.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var m,g,b,y,L,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let D=f.id,q=(m=f.filter)===null||m===void 0?void 0:m.event;return D&&((g=n.ids)===null||g===void 0?void 0:g.includes(D))&&(q==="*"||q?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let D=(L=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return D==="*"||D===((E=n?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let m=p.data,{schema:g,table:b,commit_timestamp:y,type:L,errors:E}=m;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:L,new:{},old:{},errors:E}),this._getPayloadRecords(m))}f.callback(p,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Rh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Rh(t.columns,t.old_record)),n}}});var Fh,Hc,aA,cA,lA,zc,B_=T(()=>{"use strict";Ch();Bc();P_();Mh();Vc();Ph();Fh=()=>{},Hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aA=[1e3,2e3,5e3,1e4],cA=1e4,lA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,zc=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=es,this.transport=null,this.heartbeatIntervalMs=Hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fh,this.ref=0,this.reconnectTimer=null,this.vsn=Th,this.logger=Fh,this.conn=null,this.sendBuffer=[],this.serializer=new $c,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${xh.websocket}`,this.httpEndpoint=Uc(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jc.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ur.connecting:return dr.Connecting;case ur.open:return dr.Open;case ur.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new _o(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(O_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ur.open||this.conn.readyState===ur.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([lA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return h(this,null,function*(){let n;t?n=t:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:R_};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(st.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new go(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Hc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,l,u,d,p,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:es,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Hc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Fh,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Th,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:m=>aA[m-1]||cA,this.vsn){case Sh:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(m,g)=>g(JSON.stringify(m)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(m,g)=>g(JSON.parse(m));break;case N_:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}});var Lh={};$o(Lh,{REALTIME_CHANNEL_STATES:()=>j_,REALTIME_LISTEN_TYPES:()=>yo,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>kh,REALTIME_PRESENCE_LISTEN_EVENTS:()=>Nh,REALTIME_SUBSCRIBE_STATES:()=>Ot,RealtimeChannel:()=>_o,RealtimeClient:()=>zc,RealtimePresence:()=>bo,WebSocketFactory:()=>jc});var jh=T(()=>{"use strict";B_();Ph();Oh();Ch()});function G(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Qt,ts,bn,yn=T(()=>{"use strict";Qt=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};ts=class extends Qt{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bn=class extends Qt{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}});var wo,$_,qc,U_,V_,ns=T(()=>{"use strict";wo=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$_=()=>Response,qc=e=>{if(Array.isArray(e))return e.map(n=>qc(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=qc(r)}),t},U_=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},V_=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)});function rs(e,t,n,r,o,i){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,dA(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>uA(c,a,r))})})}function _n(e,t,n,r){return _(this,void 0,void 0,function*(){return rs(e,"GET",t,n,r)})}function We(e,t,n,r,o){return _(this,void 0,void 0,function*(){return rs(e,"POST",t,r,o,n)})}function os(e,t,n,r,o){return _(this,void 0,void 0,function*(){return rs(e,"PUT",t,r,o,n)})}function H_(e,t,n,r){return _(this,void 0,void 0,function*(){return rs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Eo(e,t,n,r,o){return _(this,void 0,void 0,function*(){return rs(e,"DELETE",t,r,o,n)})}var Bh,uA,dA,Wc=T(()=>{"use strict";ne();yn();ns();Bh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uA=(e,t,n)=>_(void 0,void 0,void 0,function*(){let r=yield $_();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{let i=e.status||500,s=o?.statusCode||i+"";t(new ts(Bh(o),i,s))}).catch(o=>{t(new bn(Bh(o),o))}):t(new bn(Bh(e),e))}),dA=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(U_(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))}});var Gc,z_=T(()=>{"use strict";ne();yn();Gc=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return _(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(G(t))return{data:null,error:t};throw t}})}}});var q_,$h,W_,G_=T(()=>{"use strict";ne();yn();z_();$h=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[q_]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gc(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(G(t))return{data:null,error:t};throw t}})}};q_=Symbol.toStringTag;W_=$h});var fA,K_,Kc,Z_=T(()=>{"use strict";ne();yn();Wc();ns();G_();fA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Kc=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=wo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return _(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},K_),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield(t=="PUT"?os:We)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(G(i))return{data:null,error:i};throw i}})}upload(t,n,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return _(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:K_.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield os(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(G(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return _(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield We(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Qt("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}update(t,n,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(G(o))return{data:null,error:o};throw o}})}copy(t,n,r){return _(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(G(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return _(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield We(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(G(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return _(this,void 0,void 0,function*(){try{let o=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(G(o))return{data:null,error:o};throw o}})}download(t,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),c=()=>_n(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new W_(c,this.shouldThrowOnError)}info(t){return _(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield _n(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}exists(t){return _(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield H_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r)&&r instanceof bn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return _(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}list(t,n,r){return _(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},fA),n),{prefix:t||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(G(o))return{data:null,error:o};throw o}})}listV2(t,n){return _(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield We(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}});var Zc,Uh=T(()=>{"use strict";Zc="2.87.0"});var Yc,Vh=T(()=>{"use strict";Uh();Yc={"X-Client-Info":`storage-js/${Zc}`}});var Jc,Y_=T(()=>{"use strict";ne();Vh();yn();Wc();ns();Jc=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yc),n),this.fetch=wo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(t);return{data:yield _n(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}getBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}createBucket(t){return _(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(G(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return _(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}emptyBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){let n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}});function hA(e,t,n){let r=new URL(t,e);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}function pA(e){return h(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function mA(e){let t=e.fetchImpl??globalThis.fetch;return{request(c){return h(this,arguments,function*({method:r,path:o,query:i,body:s,headers:a}){let l=hA(e.baseUrl,o,i),u=yield pA(e.auth),d=yield t(l,{method:r,headers:w(w(w({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),m=f&&p?JSON.parse(p):p;if(!d.ok){let g=f?m:void 0,b=g?.error;throw new is(b?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:b?.type,icebergCode:b?.code,details:g})}return{status:d.status,headers:d.headers,data:m}})}}}function Qc(e){return e.join("")}function Do(e){return e.join("")}var is,gA,vA,J_,Q_=T(()=>{"use strict";is=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};gA=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return h(this,null,function*(){let t=e?{parent:Qc(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return h(this,null,function*(){let n={namespace:e.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qc(e.namespace)}`})})}loadNamespaceMetadata(e){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qc(e.namespace)}`})).data.properties}})}namespaceExists(e){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qc(e.namespace)}`}),!0}catch(t){if(t instanceof is&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof is&&n.status===409)return;throw n}})}};vA=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return h(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return h(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(e){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return h(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof is&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof is&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},J_=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=mA({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new gA(this.client,t),this.tableOps=new vA(this.client,t,this.accessDelegation)}listNamespaces(e){return h(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return h(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return h(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return h(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return h(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return h(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return h(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return h(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}}});var Io,Hh=T(()=>{"use strict";ne();Q_();Vh();yn();Wc();ns();Io=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yc),n),this.fetch=wo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}listBuckets(t){return _(this,void 0,void 0,function*(){try{let n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield _n(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}from(t){if(!V_(t))throw new Qt("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new J_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){let a=i[s];return typeof a!="function"?a:(...c)=>_(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,c),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}})}})}}});var Co,Xc=T(()=>{"use strict";Uh();Co={"X-Client-Info":`storage-js/${Zc}`,"Content-Type":"application/json"}});function ve(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var So,wn,To,zh,xo=T(()=>{"use strict";So=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};wn=class extends So{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},To=class extends So{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}},zh=function(e){return e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",e}(zh||{})});var En,X_,el,ew,tw,Mo=T(()=>{"use strict";En=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),X_=()=>Response,el=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ew=e=>Array.from(new Float32Array(e)),tw=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)}});function _A(e,t,n,r,o,i){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,yA(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>bA(c,a,r))})})}function Ee(e,t,n,r,o){return _(this,void 0,void 0,function*(){return _A(e,"POST",t,r,o,n)})}var nw,bA,yA,tl=T(()=>{"use strict";ne();xo();Mo();nw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bA=(e,t,n)=>_(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let o=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";t(new wn(nw(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;t(new wn(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;t(new wn(a,o,s))}}else t(new To(nw(e),e))}),yA=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(el(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))}});var Ao,qh=T(()=>{"use strict";ne();Xc();xo();tl();Mo();Ao=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Co),n),this.fetch=En(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Ee(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}getIndex(t,n){return _(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}listIndexes(t){return _(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return _(this,void 0,void 0,function*(){try{return{data:(yield Ee(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}}});var Ro,Wh=T(()=>{"use strict";ne();Xc();xo();tl();Mo();Ro=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Co),n),this.fetch=En(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ee(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}getVectors(t){return _(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}listVectors(t){return _(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ee(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}queryVectors(t){return _(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}deleteVectors(t){return _(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ee(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}}});var No,Gh=T(()=>{"use strict";ne();Xc();xo();tl();Mo();No=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Co),n),this.fetch=En(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Ee(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}getBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}listBuckets(){return _(this,arguments,void 0,function*(t={}){try{return{data:yield Ee(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Ee(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}}});var Oo,ss,as,rw=T(()=>{"use strict";ne();qh();Wh();Gh();Oo=class extends No{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new ss(this.url,this.headers,t,this.fetch)}createBucket(t){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}},ss=class extends Ao{constructor(t,n,r,o){super(t,n,o),this.vectorBucketName=r}createIndex(t){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new as(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},as=class extends Ro{constructor(t,n,r,o,i){super(t,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(t){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var Kh=T(()=>{"use strict";rw();Gh();qh();Wh();xo();Mo()});var nl,ow=T(()=>{"use strict";Z_();Y_();Hh();Kh();nl=class extends Jc{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new Kc(this.url,this.headers,t,this.fetch)}get vectors(){return new Oo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Io(this.url+"/iceberg",this.headers,this.fetch)}}});var iw=T(()=>{"use strict"});var sw={};$o(sw,{StorageAnalyticsClient:()=>Io,StorageApiError:()=>ts,StorageClient:()=>nl,StorageError:()=>Qt,StorageUnknownError:()=>bn,StorageVectorsApiError:()=>wn,StorageVectorsClient:()=>Oo,StorageVectorsError:()=>So,StorageVectorsErrorCode:()=>zh,StorageVectorsUnknownError:()=>To,VectorBucketApi:()=>No,VectorBucketScope:()=>ss,VectorDataApi:()=>Ro,VectorIndexApi:()=>Ao,VectorIndexScope:()=>as,isPlainObject:()=>el,isStorageError:()=>G,isStorageVectorsError:()=>ve,normalizeToFloat32:()=>ew,resolveFetch:()=>En,resolveResponse:()=>X_,validateVectorDimension:()=>tw});var aw=T(()=>{"use strict";ow();Hh();iw();yn();Kh()});var cw=Oe(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.version=void 0;rl.version="2.87.0"});var lw=Oe(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.DEFAULT_REALTIME_OPTIONS=Qe.DEFAULT_AUTH_OPTIONS=Qe.DEFAULT_DB_OPTIONS=Qe.DEFAULT_GLOBAL_OPTIONS=Qe.DEFAULT_HEADERS=void 0;var wA=cw(),cs="";typeof Deno<"u"?cs="deno":typeof document<"u"?cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cs="react-native":cs="node";Qe.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${cs}/${wA.version}`};Qe.DEFAULT_GLOBAL_OPTIONS={headers:Qe.DEFAULT_HEADERS};Qe.DEFAULT_DB_OPTIONS={schema:"public"};Qe.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};Qe.DEFAULT_REALTIME_OPTIONS={}});var uw=Oe(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.fetchWithAuth=yt.resolveHeadersConstructor=yt.resolveFetch=void 0;var EA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);yt.resolveFetch=EA;var DA=()=>Headers;yt.resolveHeadersConstructor=DA;var IA=(e,t,n)=>{let r=(0,yt.resolveFetch)(n),o=(0,yt.resolveHeadersConstructor)();return(i,s)=>h(null,null,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};yt.fetchWithAuth=IA});var fw=Oe(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.isBrowser=void 0;Dn.uuid=CA;Dn.ensureTrailingSlash=dw;Dn.applySettingDefaults=TA;Dn.validateSupabaseUrl=xA;function CA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function dw(e){return e.endsWith("/")?e:e+"/"}var SA=()=>typeof window<"u";Dn.isBrowser=SA;function TA(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function xA(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var ol,Zh=T(()=>{"use strict";ol="2.87.0"});var fr,il,sl,hw,pw,mw,ls,Yh,gw,vw,al=T(()=>{"use strict";Zh();fr=30*1e3,il=3,sl=il*fr,hw="http://localhost:9999",pw="supabase.auth.token",mw={"X-Client-Info":`gotrue-js/${ol}`},ls="X-Supabase-Api-Version",Yh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vw=10*60*1e3});function C(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}function Jh(e){return C(e)&&e.name==="AuthApiError"}function Qh(e){return C(e)&&e.name==="AuthSessionMissingError"}function Xh(e){return C(e)&&e.name==="AuthImplicitGrantRedirectError"}function ds(e){return C(e)&&e.name==="AuthRetryableFetchError"}function MA(e){return C(e)&&e.name==="AuthWeakPasswordError"}var Xt,us,Xe,_t,be,kt,In,Cn,ko,hr,Po,Sn,pr=T(()=>{"use strict";Xt=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};us=class extends Xt{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};Xe=class extends Xt{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},_t=class extends Xt{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},be=class extends _t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};kt=class extends _t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},In=class extends _t{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Cn=class extends _t{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};ko=class extends _t{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},hr=class extends _t{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};Po=class extends _t{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};Sn=class extends _t{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}});function yw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(cl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(cl[r]),t.queuedBits-=6}}function _w(e,t,n){let r=AA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ep(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{OA(s,r,n)};for(let s=0;s<e.length;s+=1)_w(e.charCodeAt(s),o,i);return t.join("")}function RA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}RA(r,t)}}function OA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Tn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)_w(e.charCodeAt(o),n,r);return new Uint8Array(t)}function ww(e){let t=[];return NA(e,n=>t.push(n)),new Uint8Array(t)}function en(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>yw(o,n,r)),yw(null,n,r),t.join("")}var cl,bw,AA,ll=T(()=>{"use strict";cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bw=` 	
\r=`.split(""),AA=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bw.length;t+=1)e[bw[t].charCodeAt(0)]=-2;for(let t=0;t<cl.length;t+=1)e[cl[t].charCodeAt(0)]=t;return e})()});function Ew(e){return Math.round(Date.now()/1e3)+e}function Dw(){return Symbol("auth-callback")}function Iw(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}function fl(e){let t=e.split(".");if(t.length!==3)throw new Sn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!gw.test(t[r]))throw new Sn("JWT not in base64url format");return{header:JSON.parse(ep(t[0])),payload:JSON.parse(ep(t[1])),signature:Tn(t[2]),raw:{header:t[0],payload:t[1]}}}function Sw(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function Tw(e,t){return new Promise((r,o)=>{h(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function kA(e){return("0"+e.toString(16)).substr(-2)}function PA(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,kA).join("")}function FA(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function LA(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield FA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function vr(e,t,n=!1){return h(this,null,function*(){let r=PA(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield gr(e,`${t}-code-verifier`,o);let i=yield LA(r);return[i,r===i?"plain":"s256"]})}function xw(e){let t=e.headers.get(ls);if(!t||!t.match(jA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Mw(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Aw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function br(e){if(!BA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hl(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rw(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function tp(e){return JSON.parse(JSON.stringify(e))}var pe,mr,ul,dl,Cw,gr,xn,ye,fs,jA,BA,Fo=T(()=>{"use strict";al();pr();ll();pe=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},ul=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};dl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gr=(e,t,n)=>h(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),xn=(e,t)=>h(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),ye=(e,t)=>h(null,null,function*(){yield e.removeItem(t)}),fs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};fs.promiseConstructor=Promise;jA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;BA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function Nw(e){return h(this,null,function*(){var t;if(!Cw(e))throw new hr(yr(e),0);if($A.includes(e.status))throw new hr(yr(e),e.status);let n;try{n=yield e.json()}catch(i){throw new Xe(yr(i),i)}let r,o=xw(e);if(o&&o.getTime()>=Yh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Po(yr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new be}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Po(yr(n),e.status,n.weak_password.reasons);throw new us(yr(n),e.status||500,r)})}function M(e,t,n,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[ls]||(i[ls]=Yh["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield VA(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function VA(e,t,n,r,o,i){return h(this,null,function*(){let s=UA(t,r,o,i),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new hr(yr(c),0)}if(a.ok||(yield Nw(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Nw(c)}})}function at(e){var t;let n=null;HA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ew(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function np(e){let t=at(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ow(e){return{data:e,error:null}}function kw(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=jt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function rp(e){return e}function HA(e){return e.access_token&&e.refresh_token&&e.expires_in}var yr,$A,UA,op=T(()=>{"use strict";ne();al();Fo();pr();yr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$A=[502,503,504];UA=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))}});var hs,ip=T(()=>{"use strict";hs=["global","local","others"]});var Mn,pl=T(()=>{"use strict";ne();op();Fo();ip();pr();Mn=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=dl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(t,n=hs[0]){if(hs.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hs.join(", ")}`);try{return yield M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(C(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pt})}catch(o){if(C(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=jt(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:kw,redirectTo:n?.redirectTo})}catch(n){if(C(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:rp});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{let g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);l[`${b}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(C(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){br(t);try{return yield M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){br(t);try{return yield M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){br(t);try{return yield M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){br(t.userId);try{let{data:n,error:r}=yield M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){br(t.userId),br(t.id);try{return{data:yield M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return h(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:rp});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{let g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);l[`${b}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(C(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return h(this,null,function*(){try{return yield M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return h(this,null,function*(){try{return yield M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return h(this,null,function*(){try{return yield M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return h(this,null,function*(){try{return yield M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return h(this,null,function*(){try{return yield M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}}});function sp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var Pw=T(()=>{"use strict"});function ml(e,t,n){return h(this,null,function*(){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(null,null,function*(){if(o){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield n()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ps(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(An.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function Lw(e,t,n){return h(this,null,function*(){var r;let o=(r=Fw[e])!==null&&r!==void 0?r:Promise.resolve(),i=Promise.race([o.catch(()=>null),t>=0?new Promise((s,a)=>{setTimeout(()=>{a(new ap(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>h(null,null,function*(){return yield n()}));return Fw[e]=i.catch(s=>h(null,null,function*(){if(s&&s.isAcquireTimeout)return yield o,null;throw s})),yield i})}var An,Lo,ps,ap,Fw,cp=T(()=>{"use strict";Fo();An={debug:!!(globalThis&&ul()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Lo=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},ps=class extends Lo{},ap=class extends Lo{};Fw={}});function jw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Bw=T(()=>{"use strict"});function lp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $w(e){return parseInt(e,16)}function Uw(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Vw(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=lp(e.address),m=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",b=`${m} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${d}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(y+=`
Expiration Time: ${o.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let L=`
Resources:`;for(let E of l){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);L+=`
- ${E}`}y+=L}return`${b}
${y}`}var Hw=T(()=>{"use strict"});function zw({error:e,options:t}){var n,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new se({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(up(s)){if(i.rp.id!==s)return new se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function qw({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new se({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(up(r)){if(n.rpId!==r)return new se({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var se,_r,Ww=T(()=>{"use strict";dp();se=class extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},_r=class extends se{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}});function Kw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,o=jt(e,["challenge","user","excludeCredentials"]),i=Tn(t).buffer,s=Object.assign(Object.assign({},n),{id:Tn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Tn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Zw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=jt(e,["challenge","allowCredentials"]),o=Tn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Tn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Yw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:en(new Uint8Array(e.response.attestationObject)),clientDataJSON:en(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Jw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:en(new Uint8Array(o.authenticatorData)),clientDataJSON:en(new Uint8Array(o.clientDataJSON)),signature:en(new Uint8Array(o.signature)),userHandle:o.userHandle?en(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function up(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Gw(){var e,t;return!!(pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function qA(e){return h(this,null,function*(){try{let t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _r("Browser returned unexpected credential type",t)}:{data:null,error:new _r("Empty credential response",t)}}catch(t){return{data:null,error:zw({error:t,options:e})}}})}function WA(e){return h(this,null,function*(){try{let t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _r("Browser returned unexpected credential type",t)}:{data:null,error:new _r("Empty credential response",t)}}catch(t){return{data:null,error:qw({error:t,options:e})}}})}function gl(...e){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of e)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=gl(a,s):r[i]=gl(s)}else r[i]=s}return r}function ZA(e,t){return gl(GA,e,t||{})}function YA(e,t){return gl(KA,e,t||{})}var fp,zA,GA,KA,vl,dp=T(()=>{"use strict";ne();ll();pr();Fo();Ww();fp=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},zA=new fp;GA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},KA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};vl=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:l};let u=o??zA.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=ZA(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:f}=yield qA({publicKey:d,signal:u});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{let d=YA(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:f}=yield WA(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new Xe("Unexpected error in challenge",c)}}})}_verify(o){return h(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Xt("rpId is required for WebAuthn authentication")};try{if(!Gw())return{data:null,error:new Xe("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new Xe("Unexpected error in authenticate",c)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Xt("rpId is required for WebAuthn registration")};try{if(!Gw())return{data:null,error:new Xe("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(p=>{var f;return(f=p.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new Xe("Unexpected error in register",c)}}})}}});function Qw(e,t,n){return h(this,null,function*(){return yield n()})}var JA,jo,QA,bl,hp=T(()=>{"use strict";pl();al();pr();op();Fo();Pw();cp();Bw();Zh();ll();Hw();dp();jw();JA={url:hw,storageKey:pw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};jo={},QA=(()=>{class e{get jwks(){var n,r;return(r=(n=jo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=jo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},JA),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&pe()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Mn({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dl(s.fetch),this.lock=s.lock||Qw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:pe()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=ml:this.lock=Qw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ul()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sp(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ol}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r={},o="none";if(pe()&&(r=Iw(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce")),pe()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Xh(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return C(r)?this._returnResult({error:r}):this._returnResult({error:new Xe("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,o,i;try{let s=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:at}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return h(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,m=null,g=null;this.flowType==="pkce"&&([m,g]=yield vr(this.storage,this.storageKey)),s=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},xform:at})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:at})}else throw new In("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return yield ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(yield ye(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:np})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:np})}else throw new In("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new kt;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return h(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return h(this,null,function*(){var r,o,i,s,a,c,l,u,d,p,f;let m,g;if("message"in n)m=n.message,g=n.signature;else{let{chain:b,wallet:y,statement:L,options:E}=n,D;if(pe())if(typeof y=="object")D=y;else{let Ft=window;if("ethereum"in Ft&&typeof Ft.ethereum=="object"&&"request"in Ft.ethereum&&typeof Ft.ethereum.request=="function")D=Ft.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=y}let q=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),wt=yield D.request({method:"eth_requestAccounts"}).then(Ft=>Ft).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!wt||wt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let Z=lp(wt[0]),le=(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!le){let Ft=yield D.request({method:"eth_chainId"});le=$w(Ft)}let tn={domain:q.host,address:Z,statement:L,uri:q.href,version:"1",chainId:le,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=Vw(tn),g=yield D.request({method:"personal_sign",params:[Uw(m),Z]})}try{let{data:b,error:y}=yield M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:at});if(y)throw y;if(!b||!b.session||!b.user){let L=new kt;return this._returnResult({data:{user:null,session:null},error:L})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(C(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}signInWithSolana(n){return h(this,null,function*(){var r,o,i,s,a,c,l,u,d,p,f,m;let g,b;if("message"in n)g=n.message,b=n.signature;else{let{chain:y,wallet:L,statement:E,options:D}=n,q;if(pe())if(typeof L=="object")q=L;else{let Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))q=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=L}let wt=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){let Z=yield q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:wt.host,uri:wt.href}),E?{statement:E}:null)),le;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")le=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)le=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)g=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),b=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${wt.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${wt.href}`,`Issued At: ${(i=(o=D?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((p=(d=D?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...D.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);let Z=yield q.signMessage(new TextEncoder().encode(g),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=Z}}try{let{data:y,error:L}=yield M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:en(b)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=n.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:at});if(L)throw L;if(!y||!y.session||!y.user){let E=new kt;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:L})}catch(y){if(C(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield xn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:at});if(yield ye(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new kt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(yield ye(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:at}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new kt;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield vr(this.storage,this.storageKey));let{error:p}=yield M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new In("You must provide either an email or phone number.")}catch(c){if(yield ye(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(n){return h(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:at});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signInWithSSO(n){return h(this,null,function*(){var r,o,i,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield vr(this.storage,this.storageKey));let u=yield M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Ow});return!((s=u.data)===null||s===void 0)&&s.url&&pe()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(yield ye(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new be;let{error:i}=yield M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})}))}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield M(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield M(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new In("You must provide either an email or phone number and a type")}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<sl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=yield xn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=hl()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=Rw(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(n){return h(this,null,function*(){try{return n?yield M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Pt}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new be}:yield M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Pt})}))}catch(r){if(C(r))return Qh(r)&&(yield this._removeSession(),yield ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(o){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new be;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield vr(this.storage,this.storageKey));let{data:d,error:p}=yield M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Pt});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(i){if(yield ye(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null},error:i});throw i}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new be;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=fl(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new be;let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!pe())throw new Cn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Cn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ko("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ko("No code detected.");let{data:E,error:D}=yield this._exchangeCodeForSession(n.code);if(D)throw D;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:E.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new Cn("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let m=f-d;m*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);let g=f-p;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:b,error:y}=yield this._getUser(s);if(y)throw y;let L={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:n.type},error:null})}catch(o){if(C(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield xn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(Jh(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(yield this._removeSession(),yield ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=Dw(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield vr(this.storage,this.storageKey,!0));try{return yield M(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield ye(this.storage,`${this.storageKey}-code-verifier`),C(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return h(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield M(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return pe()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(C(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}})}linkIdentityIdToken(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,p=yield M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:at}),{data:f,error:m}=p;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new kt}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(i){if(yield ye(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}))})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield M(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Tw(i=>h(this,null,function*(){return i>0&&(yield Sw(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:at})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&ds(s)&&Date.now()+a-o<fr})}catch(o){if(this._debug(r,"error",o),C(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),pe()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield xn(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield gr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:hl()}else if(i&&!i.user&&!i.user){let a=yield xn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield ye(this.storage,this.storageKey+"-user"),yield gr(this.storage,this.storageKey,i)):i.user=hl()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sl;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${sl}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),ds(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,o;if(!n)throw new be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fs;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new be;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),C(s)){let a={data:null,error:s};return ds(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield ye(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield gr(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=tp(i);yield gr(this.storage,this.storageKey,s)}else{let i=tp(r);yield gr(this.storage,this.storageKey,i)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield ye(this.storage,this.storageKey),yield ye(this.storage,this.storageKey+"-code-verifier"),yield ye(this.storage,this.storageKey+"-user"),this.userStorage&&(yield ye(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&pe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fr}ms, refresh threshold is ${il} ticks`),i<=il&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Lo)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!pe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield vr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):yield M(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=yield M(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Yw(n.webauthn.credential_response):Jw(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=yield M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Kw(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Zw(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){var n;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var n,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=fl(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?yield M(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new be})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(o=>h(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new be});let a=yield M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&pe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}})}_denyAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(o=>h(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new be});let a=yield M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&pe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?yield M(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new be})}))}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(yield M(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new be})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(o){return h(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(l=>l.kid===n);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===n),i&&this.jwks_cached_at+vw>s)return i;let{data:a,error:c}=yield M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===n),!i)?null:i})}getClaims(o){return h(this,arguments,function*(n,r={}){try{let i=n;if(!i){let{data:g,error:b}=yield this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});i=g.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=fl(i);r?.allowExpired||Mw(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:g}=yield this.getUser(i);if(g)throw g;return{data:{claims:a,header:s,signature:c},error:null}}let p=Aw(s.alg),f=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,f,c,ww(`${l}.${u}`))))throw new Sn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(C(i))return this._returnResult({data:null,error:i});throw i}})}}return e.nextInstanceID={},e})(),bl=QA});var XA,Xw,eE=T(()=>{"use strict";pl();XA=Mn,Xw=XA});var eR,tE,nE=T(()=>{"use strict";hp();eR=bl,tE=eR});var pp={};$o(pp,{AuthAdminApi:()=>Xw,AuthApiError:()=>us,AuthClient:()=>tE,AuthError:()=>Xt,AuthImplicitGrantRedirectError:()=>Cn,AuthInvalidCredentialsError:()=>In,AuthInvalidJwtError:()=>Sn,AuthInvalidTokenResponseError:()=>kt,AuthPKCEGrantCodeExchangeError:()=>ko,AuthRetryableFetchError:()=>hr,AuthSessionMissingError:()=>be,AuthUnknownError:()=>Xe,AuthWeakPasswordError:()=>Po,CustomAuthError:()=>_t,GoTrueAdminApi:()=>Mn,GoTrueClient:()=>bl,NavigatorLockAcquireTimeoutError:()=>ps,SIGN_OUT_SCOPES:()=>hs,isAuthApiError:()=>Jh,isAuthError:()=>C,isAuthImplicitGrantRedirectError:()=>Xh,isAuthRetryableFetchError:()=>ds,isAuthSessionMissingError:()=>Qh,isAuthWeakPasswordError:()=>MA,lockInternals:()=>An,navigatorLock:()=>ml,processLock:()=>Lw});var mp=T(()=>{"use strict";pl();hp();eE();nE();ip();pr();cp()});var rE=Oe(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.SupabaseAuthClient=void 0;var tR=(mp(),Ge(pp)),gp=class extends tR.AuthClient{constructor(t){super(t)}};yl.SupabaseAuthClient=gp});var yp=Oe(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});var nR=(sh(),Ge(ih)),rR=Dh(),oR=(jh(),Ge(Lh)),iR=(aw(),Ge(sw)),_l=lw(),sR=uw(),oE=fw(),aR=rE(),vp=class{constructor(t,n,r){var o,i,s;this.supabaseUrl=t,this.supabaseKey=n;let a=(0,oE.validateSupabaseUrl)(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:_l.DEFAULT_DB_OPTIONS,realtime:_l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},_l.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:_l.DEFAULT_GLOBAL_OPTIONS},u=(0,oE.applySettingDefaults)(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,sR.fetchWithAuth)(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new rR.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new iR.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new nR.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var t,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:l,throwOnError:u},d,p){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aR.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new oR.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};bp.default=vp});var aE=Oe(X=>{"use strict";var cR=X&&X.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),iE=X&&X.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&cR(t,e,n)},sE=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(X,"__esModule",{value:!0});X.createClient=X.SupabaseClient=X.FunctionRegion=X.FunctionsError=X.FunctionsRelayError=X.FunctionsFetchError=X.FunctionsHttpError=X.PostgrestError=void 0;var lR=sE(yp());iE((mp(),Ge(pp)),X);var uR=Dh();Object.defineProperty(X,"PostgrestError",{enumerable:!0,get:function(){return uR.PostgrestError}});var ms=(sh(),Ge(ih));Object.defineProperty(X,"FunctionsHttpError",{enumerable:!0,get:function(){return ms.FunctionsHttpError}});Object.defineProperty(X,"FunctionsFetchError",{enumerable:!0,get:function(){return ms.FunctionsFetchError}});Object.defineProperty(X,"FunctionsRelayError",{enumerable:!0,get:function(){return ms.FunctionsRelayError}});Object.defineProperty(X,"FunctionsError",{enumerable:!0,get:function(){return ms.FunctionsError}});Object.defineProperty(X,"FunctionRegion",{enumerable:!0,get:function(){return ms.FunctionRegion}});iE((jh(),Ge(Lh)),X);var dR=yp();Object.defineProperty(X,"SupabaseClient",{enumerable:!0,get:function(){return sE(dR).default}});var fR=(e,t,n)=>new lR.default(e,t,n);X.createClient=fR;function hR(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hR()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function xl(e,t){return Object.is(e,t)}var ue=null,gs=!1,Ml=1,ct=Symbol("SIGNAL");function V(e){let t=ue;return ue=e,t}function Al(){return ue}var Vo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ho(e){if(gs)throw new Error("");if(ue===null)return;ue.consumerOnSignalRead(e);let t=ue.nextProducerIndex++;if(_s(ue),t<ue.producerNode.length&&ue.producerNode[t]!==e&&Uo(ue)){let n=ue.producerNode[t];ys(n,ue.producerIndexOfThis[t])}ue.producerNode[t]!==e&&(ue.producerNode[t]=e,ue.producerIndexOfThis[t]=Uo(ue)?xp(e,ue,t):0),ue.producerLastReadVersion[t]=e.version}function Tp(){Ml++}function Rl(e){if(!(Uo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ml)){if(!e.producerMustRecompute(e)&&!Pl(e)){Tl(e);return}e.producerRecomputeValue(e),Tl(e)}}function Nl(e){if(e.liveConsumerNode===void 0)return;let t=gs;gs=!0;try{for(let n of e.liveConsumerNode)n.dirty||yE(n)}finally{gs=t}}function Ol(){return ue?.consumerAllowSignalWrites!==!1}function yE(e){e.dirty=!0,Nl(e),e.consumerMarkedDirty?.(e)}function Tl(e){e.dirty=!1,e.lastCleanEpoch=Ml}function bs(e){return e&&(e.nextProducerIndex=0),V(e)}function kl(e,t){if(V(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Uo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ys(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Pl(e){_s(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Rl(n),r!==n.version))return!0}return!1}function Fl(e){if(_s(e),Uo(e))for(let t=0;t<e.producerNode.length;t++)ys(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function xp(e,t,n){if(Mp(e),e.liveConsumerNode.length===0&&Ap(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=xp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ys(e,t){if(Mp(e),e.liveConsumerNode.length===1&&Ap(e))for(let r=0;r<e.producerNode.length;r++)ys(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];_s(o),o.producerIndexOfThis[r]=t}}function Uo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function _s(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Mp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ap(e){return e.producerNode!==void 0}function Ll(e,t){let n=Object.create(_E);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Rl(n),Ho(n),n.value===vs)throw n.error;return n.value};return r[ct]=n,r}var Cl=Symbol("UNSET"),Sl=Symbol("COMPUTING"),vs=Symbol("ERRORED"),_E=Y(w({},Vo),{value:Cl,dirty:!0,error:null,equal:xl,kind:"computed",producerMustRecompute(e){return e.value===Cl||e.value===Sl},producerRecomputeValue(e){if(e.value===Sl)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Sl;let n=bs(e),r,o=!1;try{r=e.computation(),V(null),o=t!==Cl&&t!==vs&&r!==vs&&e.equal(t,r)}catch(i){r=vs,e.error=i}finally{kl(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function wE(){throw new Error}var Rp=wE;function Np(e){Rp(e)}function jl(e){Rp=e}var EE=null;function Bl(e,t){let n=Object.create(ws);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Ho(n),n.value);return r[ct]=n,r}function zo(e,t){Ol()||Np(e),e.equal(e.value,t)||(e.value=t,DE(e))}function $l(e,t){Ol()||Np(e),zo(e,t(e.value))}var ws=Y(w({},Vo),{equal:xl,value:void 0,kind:"signal"});function DE(e){e.version++,Tp(),Nl(e),EE?.()}var Ul;function qo(){return Ul}function Lt(e){let t=Ul;return Ul=e,t}var Es=Symbol("NotFound");function R(e){return typeof e=="function"}function wr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ds=wr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ae=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(i){t=i instanceof Ds?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Op(i)}catch(s){t=t??[],s instanceof Ds?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ds(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Op(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Rn(n,t)}remove(t){let{_finalizers:n}=this;n&&Rn(n,t),t instanceof e&&t._removeParent(this)}};ae.EMPTY=(()=>{let e=new ae;return e.closed=!0,e})();var Vl=ae.EMPTY;function Is(e){return e instanceof ae||e&&"closed"in e&&R(e.remove)&&R(e.add)&&R(e.unsubscribe)}function Op(e){R(e)?e():e.unsubscribe()}var lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Er={setTimeout(e,t,...n){let{delegate:r}=Er;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Er;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Cs(e){Er.setTimeout(()=>{let{onUnhandledError:t}=lt;if(t)t(e);else throw e})}function Wo(){}var kp=Hl("C",void 0,void 0);function Pp(e){return Hl("E",void 0,e)}function Fp(e){return Hl("N",e,void 0)}function Hl(e,t,n){return{kind:e,value:t,error:n}}var Nn=null;function Dr(e){if(lt.useDeprecatedSynchronousErrorHandling){let t=!Nn;if(t&&(Nn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Nn;if(Nn=null,n)throw r}}else e()}function Lp(e){lt.useDeprecatedSynchronousErrorHandling&&Nn&&(Nn.errorThrown=!0,Nn.error=e)}var On=class extends ae{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Is(t)&&t.add(this)):this.destination=AE}static create(t,n,r){return new Ir(t,n,r)}next(t){this.isStopped?ql(Fp(t),this):this._next(t)}error(t){this.isStopped?ql(Pp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ql(kp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xE=Function.prototype.bind;function zl(e,t){return xE.call(e,t)}var Wl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ss(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ss(r)}else Ss(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ss(n)}}},Ir=class extends On{constructor(t,n,r){super();let o;if(R(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&lt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&zl(t.next,i),error:t.error&&zl(t.error,i),complete:t.complete&&zl(t.complete,i)}):o=t}this.destination=new Wl(o)}};function Ss(e){lt.useDeprecatedSynchronousErrorHandling?Lp(e):Cs(e)}function ME(e){throw e}function ql(e,t){let{onStoppedNotification:n}=lt;n&&Er.setTimeout(()=>n(e,t))}var AE={closed:!0,next:Wo,error:ME,complete:Wo};var Cr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function De(e){return e}function Gl(...e){return Kl(e)}function Kl(e){return e.length===0?De:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var H=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=NE(n)?n:new Ir(n,r,o);return Dr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=jp(r),new r((o,i)=>{let s=new Ir({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Cr](){return this}pipe(...n){return Kl(n)(this)}toPromise(n){return n=jp(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function jp(e){var t;return(t=e??lt.Promise)!==null&&t!==void 0?t:Promise}function RE(e){return e&&R(e.next)&&R(e.error)&&R(e.complete)}function NE(e){return e&&e instanceof On||RE(e)&&Is(e)}function Zl(e){return R(e?.lift)}function B(e){return t=>{if(Zl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(e,t,n,r,o){return new Yl(e,t,n,r,o)}var Yl=class extends On{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Sr(){return B((e,t)=>{let n=null;e._refCount++;let r=$(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Tr=class extends H{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ae;let n=this.getSubject();t.add(this.source.subscribe($(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ae.EMPTY)}return t}refCount(){return Sr()(this)}};var Bp=wr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=(()=>{class e extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ts(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Bp}next(n){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Vl:(this.currentObservers=null,i.push(n),new ae(()=>{this.currentObservers=null,Rn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new H;return n.source=this,n}}return e.create=(t,n)=>new Ts(t,n),e})(),Ts=class extends oe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Vl}};var de=class extends oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Jl={now(){return(Jl.delegate||Date).now()},delegate:void 0};var xs=class extends ae{constructor(t,n){super()}schedule(t,n=0){return this}};var Go={setInterval(e,t,...n){let{delegate:r}=Go;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Go;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Ms=class extends xs{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Go.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Go.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var xr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};xr.now=Jl.now;var As=class extends xr{constructor(t,n=xr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var $p=new As(Ms);var ke=new H(e=>e.complete());function Up(e){return e&&R(e.schedule)}function Vp(e){return e[e.length-1]}function Hp(e){return R(Vp(e))?e.pop():void 0}function nn(e){return Up(Vp(e))?e.pop():void 0}ne();var Fs=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ls(e){return R(e?.then)}function js(e){return R(e[Cr])}function Bs(e){return Symbol.asyncIterator&&R(e?.[Symbol.asyncIterator])}function $s(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Us=FE();function Vs(e){return R(e?.[Us])}ne();function Hs(e){return ks(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Et(n.read());if(o)return yield Et(void 0);yield yield Et(r)}}finally{n.releaseLock()}})}function zs(e){return R(e?.getReader)}function me(e){if(e instanceof H)return e;if(e!=null){if(js(e))return LE(e);if(Fs(e))return jE(e);if(Ls(e))return BE(e);if(Bs(e))return hm(e);if(Vs(e))return $E(e);if(zs(e))return UE(e)}throw $s(e)}function LE(e){return new H(t=>{let n=e[Cr]();if(R(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jE(e){return new H(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function BE(e){return new H(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Cs)})}function $E(e){return new H(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function hm(e){return new H(t=>{VE(e,t).catch(n=>t.error(n))})}function UE(e){return hm(Hs(e))}function VE(e,t){var n,r,o,i;return _(this,void 0,void 0,function*(){try{for(n=Ps(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Pe(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function qs(e,t=0){return B((n,r)=>{n.subscribe($(r,o=>Pe(r,e,()=>r.next(o),t),()=>Pe(r,e,()=>r.complete(),t),o=>Pe(r,e,()=>r.error(o),t)))})}function Ws(e,t=0){return B((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function pm(e,t){return me(e).pipe(Ws(t),qs(t))}function mm(e,t){return me(e).pipe(Ws(t),qs(t))}function gm(e,t){return new H(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function vm(e,t){return new H(n=>{let r;return Pe(n,t,()=>{r=e[Us](),Pe(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>R(r?.return)&&r.return()})}function Gs(e,t){if(!e)throw new Error("Iterable cannot be null");return new H(n=>{Pe(n,t,()=>{let r=e[Symbol.asyncIterator]();Pe(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function bm(e,t){return Gs(Hs(e),t)}function ym(e,t){if(e!=null){if(js(e))return pm(e,t);if(Fs(e))return gm(e,t);if(Ls(e))return mm(e,t);if(Bs(e))return Gs(e,t);if(Vs(e))return vm(e,t);if(zs(e))return bm(e,t)}throw $s(e)}function ee(e,t){return t?ym(e,t):me(e)}function A(...e){let t=nn(e);return ee(e,t)}function Mr(e,t){let n=R(e)?e:()=>e,r=o=>o.error(n());return new H(t?o=>t.schedule(r,0,o):r)}function tu(e){return!!e&&(e instanceof H||R(e.lift)&&R(e.subscribe))}var Bt=wr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function k(e,t){return B((n,r)=>{let o=0;n.subscribe($(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:HE}=Array;function zE(e,t){return HE(t)?e(...t):e(t)}function _m(e){return k(t=>zE(e,t))}var{isArray:qE}=Array,{getPrototypeOf:WE,prototype:GE,keys:KE}=Object;function wm(e){if(e.length===1){let t=e[0];if(qE(t))return{args:t,keys:null};if(ZE(t)){let n=KE(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ZE(e){return e&&typeof e=="object"&&WE(e)===GE}function Em(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Ar(...e){let t=nn(e),n=Hp(e),{args:r,keys:o}=wm(e);if(r.length===0)return ee([],t);let i=new H(YE(r,t,o?s=>Em(o,s):De));return n?i.pipe(_m(n)):i}function YE(e,t,n=De){return r=>{Dm(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Dm(t,()=>{let l=ee(e[c],t),u=!1;l.subscribe($(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Dm(e,t,n){e?Pe(n,e,t):t()}function Im(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},f=g=>l<r?m(g):c.push(g),m=g=>{i&&t.next(g),l++;let b=!1;me(n(g,u++)).subscribe($(t,y=>{o?.(y),i?f(y):t.next(y)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){let y=c.shift();s?Pe(t,s,()=>m(y)):m(y)}p()}catch(y){t.error(y)}}))};return e.subscribe($(t,f,()=>{d=!0,p()})),()=>{a?.()}}function fe(e,t,n=1/0){return R(t)?fe((r,o)=>k((i,s)=>t(r,i,o,s))(me(e(r,o))),n):(typeof t=="number"&&(n=t),B((r,o)=>Im(r,o,e,n)))}function Cm(e=1/0){return fe(De,e)}function Sm(){return Cm(1)}function rn(...e){return Sm()(ee(e,nn(e)))}function Ks(e){return new H(t=>{me(e()).subscribe(t)})}function Ke(e,t){return B((n,r)=>{let o=0;n.subscribe($(r,i=>e.call(t,i,o++)&&r.next(i)))})}function on(e){return B((t,n)=>{let r=null,o=!1,i;r=t.subscribe($(n,void 0,void 0,s=>{i=me(e(s,on(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Tm(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe($(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Rr(e,t){return R(t)?fe(e,t,1):fe(e,1)}function nu(e,t=$p){return B((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let l=i;i=null,r.next(l)}};function c(){let l=s+e,u=t.now();if(u<l){o=this.schedule(void 0,l-u),r.add(o);return}a()}n.subscribe($(r,l=>{i=l,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function sn(e){return B((t,n)=>{let r=!1;t.subscribe($(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function ut(e){return e<=0?()=>ke:B((t,n)=>{let r=0;t.subscribe($(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function ru(e,t=De){return e=e??JE,B((n,r)=>{let o,i=!0;n.subscribe($(r,s=>{let a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function JE(e,t){return e===t}function Zs(e=QE){return B((t,n)=>{let r=!1;t.subscribe($(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function QE(){return new Bt}function Ko(e){return B((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function $t(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ke((o,i)=>e(o,i,r)):De,ut(1),n?sn(t):Zs(()=>new Bt))}function Nr(e){return e<=0?()=>ke:B((t,n)=>{let r=[];t.subscribe($(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ou(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ke((o,i)=>e(o,i,r)):De,Nr(1),n?sn(t):Zs(()=>new Bt))}function iu(e,t){return B(Tm(e,t,arguments.length>=2,!0))}function Zo(e){return Ke((t,n)=>e<=n)}function Yo(...e){let t=nn(e);return B((n,r)=>{(t?rn(e,n,t):rn(e,n)).subscribe(r)})}function Fe(e,t){return B((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe($(r,c=>{o?.unsubscribe();let l=0,u=i++;me(e(c,u)).subscribe(o=$(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Pn(e){return B((t,n)=>{me(e).subscribe($(n,()=>n.complete(),Wo)),!n.closed&&t.subscribe(n)})}function _e(e,t,n){let r=R(e)||t||n?{next:e,error:t,complete:n}:e;return r?B((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe($(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):De}var XE="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",x=class extends Error{code;constructor(t,n){super(t0(t,n)),this.code=t}};function e0(e){return`NG0${Math.abs(e)}`}function t0(e,t){return`${e0(e)}${t?": "+t:""}`}var ug=Symbol("InputSignalNode#UNSET"),n0=Y(w({},ws),{transformFn:void 0,applyValueToInputSignal(e,t){zo(e,t)}});function dg(e,t){let n=Object.create(n0);n.value=e,n.transformFn=t?.transform;function r(){if(Ho(n),n.value===ug){let o=null;throw new x(-950,o)}return n.value}return r[ct]=n,r}function Sa(e){return{toString:e}.toString()}function K(e){for(let t in e)if(e[t]===K)return t;throw Error("Could not find renamed property on target object.")}function r0(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function je(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(je).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function bu(e,t){return e?t?`${e} ${t}`:e:t||""}var o0=K({__forward_ref__:K});function fg(e){return e.__forward_ref__=fg,e.toString=function(){return je(this())},e}function tt(e){return hg(e)?e():e}function hg(e){return typeof e=="function"&&e.hasOwnProperty(o0)&&e.__forward_ref__===fg}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Te(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ta(e){return xm(e,mg)||xm(e,gg)}function pg(e){return Ta(e)!==null}function xm(e,t){return e.hasOwnProperty(t)?e[t]:null}function i0(e){let t=e&&(e[mg]||e[gg]);return t||null}function Mm(e){return e&&(e.hasOwnProperty(Am)||e.hasOwnProperty(s0))?e[Am]:null}var mg=K({\u0275prov:K}),Am=K({\u0275inj:K}),gg=K({ngInjectableDef:K}),s0=K({ngInjectorDef:K}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vg(e){return e&&!!e.\u0275providers}var a0=K({\u0275cmp:K}),c0=K({\u0275dir:K}),l0=K({\u0275pipe:K}),u0=K({\u0275mod:K}),ra=K({\u0275fac:K}),ei=K({__NG_ELEMENT_ID__:K}),Rm=K({__NG_ENV_ID__:K});function cd(e){return typeof e=="string"?e:e==null?"":String(e)}function d0(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():cd(e)}function bg(e,t){throw new x(-200,e)}function ld(e,t){throw new x(-201,!1)}var P=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(P||{}),yu;function yg(){return yu}function et(e){let t=yu;return yu=e,t}function _g(e,t,n){let r=Ta(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&P.Optional)return null;if(t!==void 0)return t;ld(e,"Injector")}var f0={},Fn=f0,h0="__NG_DI_FLAG__",oa=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Es:Fn,r)}},ia="ngTempTokenPath",p0="ngTokenPath",m0=/\n/gm,g0="\u0275",Nm="__source";function v0(e,t=P.Default){if(qo()===void 0)throw new x(-203,!1);if(qo()===null)return _g(e,void 0,t);{let n=qo(),r;return n instanceof oa?r=n.injector:r=n,r.get(e,t&P.Optional?null:void 0,t)}}function F(e,t=P.Default){return(yg()||v0)(tt(e),t)}function v(e,t=P.Default){return F(e,xa(t))}function xa(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _u(e){let t=[];for(let n=0;n<e.length;n++){let r=tt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let o,i=P.Default;for(let s=0;s<r.length;s++){let a=r[s],c=b0(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(F(o,i))}else t.push(F(r))}return t}function b0(e){return e[h0]}function y0(e,t,n,r){let o=e[ia];throw t[Nm]&&o.unshift(t[Nm]),e.message=_0(`
`+e.message,o,n,r),e[p0]=o,e[ia]=null,e}function _0(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==g0?e.slice(2):e;let o=je(t);if(Array.isArray(t))o=t.map(je).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):je(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(m0,`
  `)}`}function Lr(e,t){let n=e.hasOwnProperty(ra);return n?e[ra]:null}function w0(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function E0(e){return e.flat(Number.POSITIVE_INFINITY)}function ud(e,t){e.forEach(n=>Array.isArray(n)?ud(n,t):t(n))}function wg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function sa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function D0(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function I0(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function dd(e,t,n){let r=di(e,t);return r>=0?e[r|1]=n:(r=~r,I0(e,r,t,n)),r}function su(e,t){let n=di(e,t);if(n>=0)return e[n|1]}function di(e,t){return C0(e,t,1)}function C0(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Bn={},Le=[],ti=new S(""),Eg=new S("",-1),Dg=new S(""),aa=class{get(t,n=Fn){if(n===Fn){let r=new Error(`NullInjectorError: No provider for ${je(t)}!`);throw r.name="NullInjectorError",r}return n}};function Ig(e,t){let n=e[u0]||null;if(!n&&t===!0)throw new Error(`Type ${je(e)} does not have '\u0275mod' property.`);return n}function $n(e){return e[a0]||null}function S0(e){return e[c0]||null}function T0(e){return e[l0]||null}function fd(e){return{\u0275providers:e}}function x0(...e){return{\u0275providers:Cg(!0,e),\u0275fromNgModule:!0}}function Cg(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return ud(t,s=>{let a=s;wu(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Sg(o,i),n}function Sg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];hd(o,i=>{t(i,r)})}}function wu(e,t,n,r){if(e=tt(e),!e)return!1;let o=null,i=Mm(e),s=!i&&$n(e);if(!i&&!s){let c=e.ngModule;if(i=Mm(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)wu(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{ud(i.imports,u=>{wu(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Sg(l,t)}if(!a){let l=Lr(o)||(()=>new o);t({provide:o,useFactory:l,deps:Le},o),t({provide:Dg,useValue:o,multi:!0},o),t({provide:ti,useValue:()=>F(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;hd(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function hd(e,t){for(let n of e)vg(n)&&(n=n.\u0275providers),Array.isArray(n)?hd(n,t):t(n)}var M0=K({provide:String,useValue:K});function Tg(e){return e!==null&&typeof e=="object"&&M0 in e}function A0(e){return!!(e&&e.useExisting)}function R0(e){return!!(e&&e.useFactory)}function Eu(e){return typeof e=="function"}var Ma=new S(""),Js={},Om={},au;function Aa(){return au===void 0&&(au=new aa),au}var $e=class{},ni=class extends $e{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Iu(t,s=>this.processProvider(s)),this.records.set(Eg,Or(void 0,this)),o.has("environment")&&this.records.set($e,Or(void 0,this));let i=this.records.get(Ma);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Dg,Le,P.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Es:Fn,r)}destroy(){Qo(this),this._destroyed=!0;let t=V(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(t)}}onDestroy(t){return Qo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Qo(this);let n=Lt(this),r=et(void 0),o;try{return t()}finally{Lt(n),et(r)}}get(t,n=Fn,r=P.Default){if(Qo(this),t.hasOwnProperty(Rm))return t[Rm](this);r=xa(r);let o,i=Lt(this),s=et(void 0);try{if(!(r&P.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=L0(t)&&Ta(t);l&&this.injectableDefInScope(l)?c=Or(Du(t),Js):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let a=r&P.Self?Aa():this.parent;return n=r&P.Optional&&n===Fn?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ia]=a[ia]||[]).unshift(je(t)),i)throw a;return y0(a,t,"R3InjectorError",this.source)}else throw a}finally{et(s),Lt(i)}}resolveInjectorInitializers(){let t=V(null),n=Lt(this),r=et(void 0),o;try{let i=this.get(ti,Le,P.Self);for(let s of i)s()}finally{Lt(n),et(r),V(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(je(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=tt(t);let n=Eu(t)?t:tt(t&&t.provide),r=O0(t);if(!Eu(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Or(void 0,Js,!0),o.factory=()=>_u(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=V(null);try{return n.value===Om?bg(je(t)):n.value===Js&&(n.value=Om,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&F0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{V(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=tt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Du(e){let t=Ta(e),n=t!==null?t.factory:Lr(e);if(n!==null)return n;if(e instanceof S)throw new x(204,!1);if(e instanceof Function)return N0(e);throw new x(204,!1)}function N0(e){if(e.length>0)throw new x(204,!1);let n=i0(e);return n!==null?()=>n.factory(e):()=>new e}function O0(e){if(Tg(e))return Or(void 0,e.useValue);{let t=k0(e);return Or(t,Js)}}function k0(e,t,n){let r;if(Eu(e)){let o=tt(e);return Lr(o)||Du(o)}else if(Tg(e))r=()=>tt(e.useValue);else if(R0(e))r=()=>e.useFactory(..._u(e.deps||[]));else if(A0(e))r=(o,i)=>F(tt(e.useExisting),i!==void 0&&i&P.Optional?P.Optional:void 0);else{let o=tt(e&&(e.useClass||e.provide));if(P0(e))r=()=>new o(..._u(e.deps));else return Lr(o)||Du(o)}return r}function Qo(e){if(e.destroyed)throw new x(205,!1)}function Or(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function P0(e){return!!e.deps}function F0(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function L0(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function Iu(e,t){for(let n of e)Array.isArray(n)?Iu(n,t):n&&vg(n)?Iu(n.\u0275providers,t):t(n)}function pt(e,t){let n;e instanceof ni?(Qo(e),n=e):n=new oa(e);let r,o=Lt(n),i=et(void 0);try{return t()}finally{Lt(o),et(i)}}function xg(){return yg()!==void 0||qo()!=null}function Mg(e){if(!xg())throw new x(-203,!1)}function j0(e){return typeof e=="function"}var Wt=0,j=1,N=2,we=3,ht=4,Ve=5,ri=6,ca=7,Ue=8,jr=9,cn=10,he=11,oi=12,km=13,zr=14,rt=15,Un=16,kr=17,Ut=18,Ra=19,Ag=20,an=21,cu=22,la=23,nt=24,lu=25,Ce=26,Rg=1;var Vn=7,ua=8,Br=9,Be=10;function Ln(e){return Array.isArray(e)&&typeof e[Rg]=="object"}function Gt(e){return Array.isArray(e)&&e[Rg]===!0}function pd(e){return(e.flags&4)!==0}function qr(e){return e.componentOffset>-1}function Na(e){return(e.flags&1)===1}function Vt(e){return!!e.template}function da(e){return(e[N]&512)!==0}function Wr(e){return(e[N]&256)===256}var Cu=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ng(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var fi=(()=>{let e=()=>Og;return e.ngInherit=!0,e})();function Og(e){return e.type.prototype.ngOnChanges&&(e.setInput=$0),B0}function B0(){let e=Pg(this),t=e?.current;if(t){let n=e.previous;if(n===Bn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function $0(e,t,n,r,o){let i=this.declaredInputs[r],s=Pg(e)||U0(e,{previous:Bn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Cu(l&&l.currentValue,n,c===Bn),Ng(e,t,o,n)}var kg="__ngSimpleChanges__";function Pg(e){return e[kg]||null}function U0(e,t){return e[kg]=t}var Pm=null;var J=function(e,t=null,n){Pm?.(e,t,n)},Fg="svg",V0="math";function It(e){for(;Array.isArray(e);)e=e[Wt];return e}function Lg(e,t){return It(t[e])}function Tt(e,t){return It(t[e.index])}function md(e,t){return e.data[t]}function H0(e,t){return e[t]}function Ht(e,t){let n=t[e];return Ln(n)?n:n[Wt]}function z0(e){return(e[N]&4)===4}function gd(e){return(e[N]&128)===128}function q0(e){return Gt(e[we])}function $r(e,t){return t==null?null:e[t]}function jg(e){e[kr]=0}function Bg(e){e[N]&1024||(e[N]|=1024,gd(e)&&ka(e))}function W0(e,t){for(;e>0;)t=t[zr],e--;return t}function Oa(e){return!!(e[N]&9216||e[nt]?.dirty)}function Su(e){e[cn].changeDetectionScheduler?.notify(8),e[N]&64&&(e[N]|=1024),Oa(e)&&ka(e)}function ka(e){e[cn].changeDetectionScheduler?.notify(0);let t=Hn(e);for(;t!==null&&!(t[N]&8192||(t[N]|=8192,!gd(t)));)t=Hn(t)}function $g(e,t){if(Wr(e))throw new x(911,!1);e[an]===null&&(e[an]=[]),e[an].push(t)}function G0(e,t){if(e[an]===null)return;let n=e[an].indexOf(t);n!==-1&&e[an].splice(n,1)}function Hn(e){let t=e[we];return Gt(t)?t[we]:t}function vd(e){return e[ca]??=[]}function bd(e){return e.cleanup??=[]}function K0(e,t,n,r){let o=vd(t);o.push(n),e.firstCreatePass&&bd(e).push(r,o.length-1)}var U={lFrame:Kg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Tu=!1;function Z0(){return U.lFrame.elementDepthCount}function Y0(){U.lFrame.elementDepthCount++}function J0(){U.lFrame.elementDepthCount--}function yd(){return U.bindingsEnabled}function Ug(){return U.skipHydrationRootTNode!==null}function Q0(e){return U.skipHydrationRootTNode===e}function X0(){U.skipHydrationRootTNode=null}function Q(){return U.lFrame.lView}function xe(){return U.lFrame.tView}function xt(){let e=Vg();for(;e!==null&&e.type===64;)e=e.parent;return e}function Vg(){return U.lFrame.currentTNode}function eD(){let e=U.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Wn(e,t){let n=U.lFrame;n.currentTNode=e,n.isParent=t}function _d(){return U.lFrame.isParent}function wd(){U.lFrame.isParent=!1}function tD(){return U.lFrame.contextLView}function Hg(){return Tu}function Fm(e){let t=Tu;return Tu=e,t}function nD(e){return U.lFrame.bindingIndex=e}function Pa(){return U.lFrame.bindingIndex++}function zg(e){let t=U.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rD(){return U.lFrame.inI18n}function oD(e,t){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=e,xu(t)}function iD(){return U.lFrame.currentDirectiveIndex}function xu(e){U.lFrame.currentDirectiveIndex=e}function sD(e){let t=U.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function qg(){return U.lFrame.currentQueryIndex}function Ed(e){U.lFrame.currentQueryIndex=e}function aD(e){let t=e[j];return t.type===2?t.declTNode:t.type===1?e[Ve]:null}function Wg(e,t,n){if(n&P.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&P.Host);)if(o=aD(i),o===null||(i=i[zr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=U.lFrame=Gg();return r.currentTNode=t,r.lView=e,!0}function Dd(e){let t=Gg(),n=e[j];U.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Gg(){let e=U.lFrame,t=e===null?null:e.child;return t===null?Kg(e):t}function Kg(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Zg(){let e=U.lFrame;return U.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Yg=Zg;function Id(){let e=Zg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cD(e){return(U.lFrame.contextLView=W0(e,U.lFrame.contextLView))[Ue]}function Gn(){return U.lFrame.selectedIndex}function zn(e){U.lFrame.selectedIndex=e}function Jg(){let e=U.lFrame;return md(e.tView,e.selectedIndex)}function Cd(){U.lFrame.currentNamespace=Fg}function Qg(){lD()}function lD(){U.lFrame.currentNamespace=null}function uD(){return U.lFrame.currentNamespace}var Xg=!0;function Fa(){return Xg}function La(e){Xg=e}function dD(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Og(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Sd(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Qs(e,t,n){ev(e,t,3,n)}function Xs(e,t,n,r){(e[N]&3)===n&&ev(e,t,n,r)}function uu(e,t){let n=e[N];(n&3)===t&&(n&=16383,n+=1,e[N]=n)}function ev(e,t,n,r){let o=r!==void 0?e[kr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[kr]+=65536),(a<i||i==-1)&&(fD(e,n,t,c),e[kr]=(e[kr]&4294901760)+c+2),c++}function Lm(e,t){J(4,e,t);let n=V(null);try{t.call(e)}finally{V(n),J(5,e,t)}}function fD(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[N]>>14<e[kr]>>16&&(e[N]&3)===t&&(e[N]+=16384,Lm(a,i)):Lm(a,i)}var Fr=-1,ii=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function hD(e){return(e.flags&8)!==0}function pD(e){return(e.flags&16)!==0}function mD(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];vD(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function gD(e){return e===3||e===4||e===6}function vD(e){return e.charCodeAt(0)===64}function Ur(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?jm(e,n,o,null,t[++r]):jm(e,n,o,null,null))}}return e}function jm(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function tv(e){return e!==Fr}function fa(e){return e&32767}function bD(e){return e>>16}function ha(e,t){let n=bD(e),r=t;for(;n>0;)r=r[zr],n--;return r}var Mu=!0;function Bm(e){let t=Mu;return Mu=e,t}var yD=256,nv=yD-1,rv=5,_D=0,Dt={};function wD(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ei)&&(r=n[ei]),r==null&&(r=n[ei]=_D++);let o=r&nv,i=1<<o;t.data[e+(o>>rv)]|=i}function ov(e,t){let n=iv(e,t);if(n!==-1)return n;let r=t[j];r.firstCreatePass&&(e.injectorIndex=t.length,du(r.data,e),du(t,null),du(r.blueprint,null));let o=Td(e,t),i=e.injectorIndex;if(tv(o)){let s=fa(o),a=ha(o,t),c=a[j].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function du(e,t){e.push(0,0,0,0,0,0,0,0,t)}function iv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Td(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=uv(o),r===null)return Fr;if(n++,o=o[zr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fr}function ED(e,t,n){wD(e,t,n)}function sv(e,t,n){if(n&P.Optional||e!==void 0)return e;ld(t,"NodeInjector")}function av(e,t,n,r){if(n&P.Optional&&r===void 0&&(r=null),(n&(P.Self|P.Host))===0){let o=e[jr],i=et(void 0);try{return o?o.get(t,r,n&P.Optional):_g(t,r,n&P.Optional)}finally{et(i)}}return sv(r,t,n)}function cv(e,t,n,r=P.Default,o){if(e!==null){if(t[N]&2048&&!(r&P.Self)){let s=SD(e,t,n,r,Dt);if(s!==Dt)return s}let i=lv(e,t,n,r,Dt);if(i!==Dt)return i}return av(t,n,r,o)}function lv(e,t,n,r,o){let i=ID(n);if(typeof i=="function"){if(!Wg(t,e,r))return r&P.Host?sv(o,n,r):av(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&P.Optional))ld(n);else return s}finally{Yg()}}else if(typeof i=="number"){let s=null,a=iv(e,t),c=Fr,l=r&P.Host?t[rt][Ve]:null;for((a===-1||r&P.SkipSelf)&&(c=a===-1?Td(e,t):t[a+8],c===Fr||!Um(r,!1)?a=-1:(s=t[j],a=fa(c),t=ha(c,t)));a!==-1;){let u=t[j];if($m(i,a,u.data)){let d=DD(a,t,n,s,r,l);if(d!==Dt)return d}c=t[a+8],c!==Fr&&Um(r,t[j].data[a+8]===l)&&$m(i,a,t)?(s=u,a=fa(c),t=ha(c,t)):a=-1}}return o}function DD(e,t,n,r,o,i){let s=t[j],a=s.data[e+8],c=r==null?qr(a)&&Mu:r!=s&&(a.type&3)!==0,l=o&P.Host&&i===a,u=ea(a,s,n,c,l);return u!==null?pa(t,s,u,a,o):Dt}function ea(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let f=d;f<p;f++){let m=s[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(o){let f=s[c];if(f&&Vt(f)&&f.type===n)return c}return null}function pa(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof ii){let a=i;a.resolving&&bg(d0(s[n]));let c=Bm(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?et(a.injectImpl):null,d=Wg(e,r,P.Default);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&dD(n,s[n],t)}finally{u!==null&&et(u),Bm(c),a.resolving=!1,Yg()}}return i}function ID(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ei)?e[ei]:void 0;return typeof t=="number"?t>=0?t&nv:CD:t}function $m(e,t,n){let r=1<<e;return!!(n[t+(e>>rv)]&r)}function Um(e,t){return!(e&P.Self)&&!(e&P.Host&&t)}var jn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return cv(this._tNode,this._lView,t,xa(r),n)}};function CD(){return new jn(xt(),Q())}function Gr(e){return Sa(()=>{let t=e.prototype.constructor,n=t[ra]||Au(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[ra]||Au(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Au(e){return hg(e)?()=>{let t=Au(tt(e));return t&&t()}:Lr(e)}function SD(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[N]&2048&&!da(s);){let a=lv(i,s,n,r|P.Self,Dt);if(a!==Dt)return a;let c=i.parent;if(!c){let l=s[Ag];if(l){let u=l.get(n,Dt,r);if(u!==Dt)return u}c=uv(s),s=s[zr]}i=c}return o}function uv(e){let t=e[j],n=t.type;return n===2?t.declTNode:n===1?e[Ve]:null}function Vm(e,t=null,n=null,r){let o=dv(e,t,n,r);return o.resolveInjectorInitializers(),o}function dv(e,t=null,n=null,r,o=new Set){let i=[n||Le,x0(e)];return r=r||(typeof e=="object"?void 0:je(e)),new ni(i,t||Aa(),r||null,o)}var Se=class e{static THROW_IF_NOT_FOUND=Fn;static NULL=new aa;static create(t,n){if(Array.isArray(t))return Vm({name:""},n,t,"");{let r=t.name??"";return Vm({name:r},t.parent,t.providers,r)}}static \u0275prov=I({token:e,providedIn:"any",factory:()=>F(Eg)});static __NG_ELEMENT_ID__=-1};var TD=new S("");TD.__NG_ELEMENT_ID__=e=>{let t=xt();if(t===null)throw new x(204,!1);if(t.type&2)return t.value;if(e&P.Optional)return null;throw new x(204,!1)};var fv=!1,Kn=(()=>{class e{static __NG_ELEMENT_ID__=xD;static __NG_ENV_ID__=n=>n}return e})(),Ru=class extends Kn{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return Wr(n)?(t(),()=>{}):($g(n,t),()=>G0(n,t))}};function xD(){return new Ru(Q())}var si=class{},xd=new S("",{providedIn:"root",factory:()=>!1});var hv=new S(""),pv=new S(""),Kr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new de(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})();var Nu=class extends oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,xg()&&(this.destroyRef=v(Kn,{optional:!0})??void 0,this.pendingTasks=v(Kr,{optional:!0})??void 0)}emit(t){let n=V(null);try{super.next(t)}finally{V(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ae&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ie=Nu;function ma(...e){}function mv(e){let t,n;function r(){e=ma;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Hm(e){return queueMicrotask(()=>e()),()=>{e=ma}}var Md="isAngularZone",ga=Md+"_ID",MD=0,W=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ie(!1);onMicrotaskEmpty=new Ie(!1);onStable=new Ie(!1);onError=new Ie(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=fv}=t;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,ND(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Md)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,AD,ma,ma);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},AD={};function Ad(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function RD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){mv(()=>{e.callbackScheduled=!1,Ou(e),e.isCheckStableRunning=!0,Ad(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ou(e)}function ND(e){let t=()=>{RD(e)},n=MD++;e._inner=e._inner.fork({name:"angular",properties:{[Md]:!0,[ga]:n,[ga+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(OD(c))return r.invokeTask(i,s,a,c);try{return zm(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),qm(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return zm(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!kD(c)&&t(),qm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ou(e),Ad(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ou(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qm(e){e._nesting--,Ad(e)}var ku=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ie;onMicrotaskEmpty=new Ie;onStable=new Ie;onError=new Ie;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function OD(e){return gv(e,"__ignore_ng_zone__")}function kD(e){return gv(e,"__scheduler_tick__")}function gv(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var zt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},PD=new S("",{providedIn:"root",factory:()=>{let e=v(W),t=v(zt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Wm(e,t){return dg(e,t)}function FD(e){return dg(ug,e)}var vv=(Wm.required=FD,Wm);function LD(){return Zr(xt(),Q())}function Zr(e,t){return new He(Tt(e,t))}var He=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=LD}return e})();function jD(e){return e instanceof He?e.nativeElement:e}function Yr(e,t){let n=Bl(e,t?.equal),r=n[ct];return n.set=o=>zo(r,o),n.update=o=>$l(r,o),n.asReadonly=BD.bind(n),n}function BD(){let e=this[ct];if(e.readonlyFn===void 0){let t=()=>this();t[ct]=e,e.readonlyFn=t}return e.readonlyFn}function $D(){return this._results[Symbol.iterator]()}var Pu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new oe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=E0(t);(this._changesDetected=!w0(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=$D};function bv(e){return(e.flags&128)===128}var yv=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(yv||{}),_v=new Map,UD=0;function VD(){return UD++}function HD(e){_v.set(e[Ra],e)}function Fu(e){_v.delete(e[Ra])}var Gm="__ngContext__";function Jr(e,t){Ln(t)?(e[Gm]=t[Ra],HD(t)):e[Gm]=t}function wv(e){return Dv(e[oi])}function Ev(e){return Dv(e[ht])}function Dv(e){for(;e!==null&&!Gt(e);)e=e[ht];return e}var Lu;function Iv(e){Lu=e}function zD(){if(Lu!==void 0)return Lu;if(typeof document<"u")return document;throw new x(210,!1)}var Rd=new S("",{providedIn:"root",factory:()=>qD}),qD="ng",Nd=new S(""),Zn=new S("",{providedIn:"platform",factory:()=>"unknown"});var Yn=new S(""),hi=new S("",{providedIn:"root",factory:()=>zD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WD="h",GD="b";var Cv=!1,KD=new S("",{providedIn:"root",factory:()=>Cv});var Sv=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Sv||{}),ja=new S(""),Km=new Set;function Ba(e){Km.has(e)||(Km.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ZD=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})();var YD=(e,t,n,r)=>{};function JD(e,t,n,r){YD(e,t,n,r)}var QD=()=>null;function Tv(e,t,n=!1){return QD(e,t,n)}function xv(e,t){let n=e.contentQueries;if(n!==null){let r=V(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Ed(i),a.contentQueries(2,t[s],s)}}}finally{V(r)}}}function ju(e,t,n){Ed(0);let r=V(null);try{t(e,n)}finally{V(r)}}function Od(e,t,n){if(pd(t)){let r=V(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{V(r)}}}var Ct=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ct||{});var Bu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XE})`}};function Mv(e){return e instanceof Bu?e.changingThisBreaksApplicationSecurity:e}var XD=/^>|^->|<!--|-->|--!>|<!-$/g,eI=/(<|>)/g,tI="\u200B$1\u200B";function nI(e){return e.replace(XD,t=>t.replace(eI,tI))}function rI(e,t){return e.createText(t)}function oI(e,t,n){e.setValue(t,n)}function iI(e,t){return e.createComment(nI(t))}function Av(e,t,n){return e.createElement(t,n)}function va(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Rv(e,t,n){e.appendChild(t,n)}function Zm(e,t,n,r,o){r!==null?va(e,t,n,r,o):Rv(e,t,n)}function sI(e,t,n){e.removeChild(null,t,n)}function aI(e,t,n){e.setAttribute(t,"style",n)}function cI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Nv(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&mD(e,t,r),o!==null&&cI(e,t,o),i!==null&&aI(e,t,i)}function Ov(e){return e instanceof Function?e():e}function lI(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var kv="ng-template";function uI(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&lI(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(kd(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function kd(e){return e.type===4&&e.value!==kv}function dI(e,t,n){let r=e.type===4&&!n?kv:e.value;return t===r}function fI(e,t,n){let r=4,o=e.attrs,i=o!==null?mI(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!dt(r)&&!dt(c))return!1;if(s&&dt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!dI(e,c,n)||c===""&&t.length===1){if(dt(r))return!1;s=!0}}else if(r&8){if(o===null||!uI(e,o,c,n)){if(dt(r))return!1;s=!0}}else{let l=t[++a],u=hI(c,o,kd(e),n);if(u===-1){if(dt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(dt(r))return!1;s=!0}}}}return dt(r)||s}function dt(e){return(e&1)===0}function hI(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return gI(t,e)}function Pv(e,t,n=!1){for(let r=0;r<t.length;r++)if(fI(e,t[r],n))return!0;return!1}function pI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function mI(e){for(let t=0;t<e.length;t++){let n=e[t];if(gD(n))return t}return e.length}function gI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function vI(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Ym(e,t){return e?":not("+t.trim()+")":t}function bI(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!dt(s)&&(t+=Ym(i,o),o=""),r=s,i=i||!dt(r);n++}return o!==""&&(t+=Ym(i,o)),t}function yI(e){return e.map(bI).join(",")}function _I(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!dt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Kt={};function Pd(e,t,n,r,o,i,s,a,c,l,u){let d=Ce+r,p=d+o,f=wI(d,p),m=typeof l=="function"?l():l;return f[j]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function wI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Kt);return n}function EI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Pd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Fd(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[Wt]=o,d[N]=r|4|128|8|64|1024,(l!==null||e&&e[N]&2048)&&(d[N]|=2048),jg(d),d[we]=d[zr]=e,d[Ue]=n,d[cn]=s||e&&e[cn],d[he]=a||e&&e[he],d[jr]=c||e&&e[jr]||null,d[Ve]=i,d[Ra]=VD(),d[ri]=u,d[Ag]=l,d[rt]=t.type==2?e[rt]:d,d}function DI(e,t,n){let r=Tt(t,e),o=EI(n),i=e[cn].rendererFactory,s=Ld(e,Fd(e,o,null,Fv(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Fv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Lv(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Ld(e,t){return e[oi]?e[km][ht]=t:e[oi]=t,e[km]=t,t}function ot(e=1){jv(xe(),Q(),Gn()+e,!1)}function jv(e,t,n,r){if(!r)if((t[N]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Qs(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Xs(t,i,0,n)}zn(n)}var $a=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}($a||{});function $u(e,t,n,r){let o=V(null);try{let[i,s,a]=e.inputs[n],c=null;(s&$a.SignalBased)!==0&&(c=t[i][ct]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Ng(t,c,i,r)}finally{V(o)}}function Bv(e,t,n,r,o){let i=Gn(),s=r&2;try{zn(-1),s&&t.length>Ce&&jv(e,t,Ce,!1),J(s?2:0,o),n(r,o)}finally{zn(i),J(s?3:1,o)}}function Ua(e,t,n){AI(e,t,n),(n.flags&64)===64&&RI(e,t,n)}function jd(e,t,n=Tt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function II(e,t,n,r){let i=r.get(KD,Cv)||n===Ct.ShadowDom,s=e.selectRootElement(t,i);return CI(s),s}function CI(e){SI(e)}var SI=()=>null;function TI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function xI(e,t,n,r,o,i,s,a){if(!a&&$d(t,e,n,r,o)){qr(t)&&MI(n,t.index);return}if(t.type&3){let c=Tt(t,n);r=TI(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)}else t.type&12}function MI(e,t){let n=Ht(t,e);n[N]&16||(n[N]|=64)}function AI(e,t,n){let r=n.directiveStart,o=n.directiveEnd;qr(n)&&DI(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ov(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=pa(t,e,s,n);if(Jr(c,t),i!==null&&PI(t,s-r,c,a,n,i),Vt(a)){let l=Ht(n.index,t);l[Ue]=pa(t,e,s,n)}}}function RI(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=iD();try{zn(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];xu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&NI(c,l)}}finally{zn(-1),xu(s)}}function NI(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Bd(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];Pv(t,i.selectors,!1)&&(r??=[],Vt(i)?r.unshift(i):r.push(i))}return r}function OI(e,t,n,r,o,i){let s=Tt(e,t);kI(t[he],s,i,e.value,n,r,o)}function kI(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?cd(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function PI(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];$u(r,n,c,l)}}function FI(e,t){let n=e[jr],r=n?n.get(zt,null):null;r&&r.handleError(t)}function $d(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];$u(d,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=t.data[c];$u(u,l,r,o),a=!0}return a}function LI(e,t){let n=Ht(t,e),r=n[j];jI(r,n);let o=n[Wt];o!==null&&n[ri]===null&&(n[ri]=Tv(o,n[jr])),J(18),Ud(r,n,n[Ue]),J(19,n[Ue])}function jI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Ud(e,t,n){Dd(t);try{let r=e.viewQuery;r!==null&&ju(1,r,n);let o=e.template;o!==null&&Bv(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ut]?.finishViewCreation(e),e.staticContentQueries&&xv(e,t),e.staticViewQueries&&ju(2,e.viewQuery,n);let i=e.components;i!==null&&BI(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[N]&=-5,Id()}}function BI(e,t){for(let n=0;n<t.length;n++)LI(e,t[n])}function Vd(e,t,n,r){let o=V(null);try{let i=t.tView,a=e[N]&4096?4096:16,c=Fd(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Un]=l;let u=e[Ut];return u!==null&&(c[Ut]=u.createEmbeddedView(i)),Ud(i,c,n),c}finally{V(o)}}function ba(e,t){return!t||t.firstChild===null||bv(e)}var $I;function Hd(e,t){return $I(e,t)}var ln=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ln||{});function zd(e){return(e.flags&32)===32}function Pr(e,t,n,r,o){if(r!=null){let i,s=!1;Gt(r)?i=r:Ln(r)&&(s=!0,r=r[Wt]);let a=It(r);e===0&&n!==null?o==null?Rv(t,n,a):va(t,n,a,o||null,!0):e===1&&n!==null?va(t,n,a,o||null,!0):e===2?sI(t,a,s):e===3&&t.destroyNode(a),i!=null&&YI(t,e,i,n,o)}}function UI(e,t){$v(e,t),t[Wt]=null,t[Ve]=null}function VI(e,t,n,r,o,i){r[Wt]=o,r[Ve]=t,Ha(e,r,n,1,o,i)}function $v(e,t){t[cn].changeDetectionScheduler?.notify(9),Ha(e,t,t[he],2,null,null)}function HI(e){let t=e[oi];if(!t)return fu(e[j],e);for(;t;){let n=null;if(Ln(t))n=t[oi];else{let r=t[Be];r&&(n=r)}if(!n){for(;t&&!t[ht]&&t!==e;)Ln(t)&&fu(t[j],t),t=t[we];t===null&&(t=e),Ln(t)&&fu(t[j],t),n=t&&t[ht]}t=n}}function qd(e,t){let n=e[Br],r=n.indexOf(t);n.splice(r,1)}function Wd(e,t){if(Wr(t))return;let n=t[he];n.destroyNode&&Ha(e,t,n,3,null,null),HI(t)}function fu(e,t){if(Wr(t))return;let n=V(null);try{t[N]&=-129,t[N]|=256,t[nt]&&Fl(t[nt]),qI(e,t),zI(e,t),t[j].type===1&&t[he].destroy();let r=t[Un];if(r!==null&&Gt(t[we])){r!==t[we]&&qd(r,t);let o=t[Ut];o!==null&&o.detachView(e)}Fu(t)}finally{V(n)}}function zI(e,t){let n=e.cleanup,r=t[ca];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[ca]=null);let o=t[an];if(o!==null){t[an]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[la];if(i!==null){t[la]=null;for(let s of i)s.destroy()}}function qI(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof ii)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];J(4,a,c);try{c.call(a)}finally{J(5,a,c)}}else{J(4,o,i);try{i.call(o)}finally{J(5,o,i)}}}}}function Uv(e,t,n){return WI(e,t.parent,n)}function WI(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Wt];if(qr(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Ct.None||o===Ct.Emulated)return null}return Tt(r,n)}function Vv(e,t,n){return KI(e,t,n)}function GI(e,t,n){return e.type&40?Tt(e,n):null}var KI=GI,Jm;function Va(e,t,n,r){let o=Uv(e,r,t),i=t[he],s=r.parent||t[Ve],a=Vv(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Zm(i,o,n[c],a,!1);else Zm(i,o,n,a,!1);Jm!==void 0&&Jm(i,r,t,n,o)}function Xo(e,t){if(t!==null){let n=t.type;if(n&3)return Tt(t,e);if(n&4)return Uu(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Xo(e,r);{let o=e[t.index];return Gt(o)?Uu(-1,o):It(o)}}else{if(n&128)return Xo(e,t.next);if(n&32)return Hd(t,e)()||It(e[t.index]);{let r=Hv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Hn(e[rt]);return Xo(o,r)}else return Xo(e,t.next)}}}return null}function Hv(e,t){if(t!==null){let r=e[rt][Ve],o=t.projection;return r.projection[o]}return null}function Uu(e,t){let n=Be+e+1;if(n<t.length){let r=t[n],o=r[j].firstChild;if(o!==null)return Xo(r,o)}return t[Vn]}function Gd(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Jr(It(a),r),n.flags|=2),!zd(n))if(c&8)Gd(e,t,n.child,r,o,i,!1),Pr(t,e,o,a,i);else if(c&32){let l=Hd(n,r),u;for(;u=l();)Pr(t,e,o,u,i);Pr(t,e,o,a,i)}else c&16?zv(e,t,r,n,o,i):Pr(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Ha(e,t,n,r,o,i){Gd(n,r,e.firstChild,t,o,i,!1)}function ZI(e,t,n){let r=t[he],o=Uv(e,n,t),i=n.parent||t[Ve],s=Vv(i,n,t);zv(r,0,t,n,o,s)}function zv(e,t,n,r,o,i){let s=n[rt],c=s[Ve].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Pr(t,e,o,u,i)}else{let l=c,u=s[we];bv(r)&&(l.flags|=128),Gd(e,t,l,u,o,i,!0)}}function YI(e,t,n,r,o){let i=n[Vn],s=It(n);i!==s&&Pr(t,e,r,i,o);for(let a=Be;a<n.length;a++){let c=n[a];Ha(c[j],c,e,t,r,i)}}function JI(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:ln.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ln.Important),e.setStyle(n,r,o,i))}}function ya(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(It(i)),Gt(i)&&QI(i,r);let s=n.type;if(s&8)ya(e,t,n.child,r);else if(s&32){let a=Hd(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Hv(t,n);if(Array.isArray(a))r.push(...a);else{let c=Hn(t[rt]);ya(c[j],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function QI(e,t){for(let n=Be;n<e.length;n++){let r=e[n],o=r[j].firstChild;o!==null&&ya(r[j],r,o,t)}e[Vn]!==e[Wt]&&t.push(e[Vn])}function qv(e){if(e[lu]!==null){for(let t of e[lu])t.impl.addSequence(t);e[lu].length=0}}var Wv=[];function XI(e){return e[nt]??eC(e)}function eC(e){let t=Wv.pop()??Object.create(nC);return t.lView=e,t}function tC(e){e.lView[nt]!==e&&(e.lView=null,Wv.push(e))}var nC=Y(w({},Vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ka(e.lView)},consumerOnSignalRead(){this.lView[nt]=this}});function rC(e){let t=e[nt]??Object.create(oC);return t.lView=e,t}var oC=Y(w({},Vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Hn(e.lView);for(;t&&!Gv(t[j]);)t=Hn(t);t&&Bg(t)},consumerOnSignalRead(){this.lView[nt]=this}});function Gv(e){return e.type!==2}function Kv(e){if(e[la]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[la])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[N]&8192)}}var iC=100;function Zv(e,t=!0,n=0){let o=e[cn].rendererFactory,i=!1;i||o.begin?.();try{sC(e,n)}catch(s){throw t&&FI(e,s),s}finally{i||o.end?.()}}function sC(e,t){let n=Hg();try{Fm(!0),Vu(e,t);let r=0;for(;Oa(e);){if(r===iC)throw new x(103,!1);r++,Vu(e,1)}}finally{Fm(n)}}function aC(e,t,n,r){if(Wr(t))return;let o=t[N],i=!1,s=!1;Dd(t);let a=!0,c=null,l=null;i||(Gv(e)?(l=XI(t),c=bs(l)):Al()===null?(a=!1,l=rC(t),c=bs(l)):t[nt]&&(Fl(t[nt]),t[nt]=null));try{jg(t),nD(e.bindingStartIndex),n!==null&&Bv(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let f=e.preOrderCheckHooks;f!==null&&Qs(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Xs(t,f,0,null),uu(t,0)}if(s||cC(t),Kv(t),Yv(t,0),e.contentQueries!==null&&xv(e,t),!i)if(u){let f=e.contentCheckHooks;f!==null&&Qs(t,f)}else{let f=e.contentHooks;f!==null&&Xs(t,f,1),uu(t,1)}uC(e,t);let d=e.components;d!==null&&Qv(t,d,0);let p=e.viewQuery;if(p!==null&&ju(2,p,r),!i)if(u){let f=e.viewCheckHooks;f!==null&&Qs(t,f)}else{let f=e.viewHooks;f!==null&&Xs(t,f,2),uu(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[cu]){for(let f of t[cu])f();t[cu]=null}i||(qv(t),t[N]&=-73)}catch(u){throw i||ka(t),u}finally{l!==null&&(kl(l,c),a&&tC(l)),Id()}}function Yv(e,t){for(let n=wv(e);n!==null;n=Ev(n))for(let r=Be;r<n.length;r++){let o=n[r];Jv(o,t)}}function cC(e){for(let t=wv(e);t!==null;t=Ev(t)){if(!(t[N]&2))continue;let n=t[Br];for(let r=0;r<n.length;r++){let o=n[r];Bg(o)}}}function lC(e,t,n){J(18);let r=Ht(t,e);Jv(r,n),J(19,r[Ue])}function Jv(e,t){gd(e)&&Vu(e,t)}function Vu(e,t){let r=e[j],o=e[N],i=e[nt],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Pl(i)),s||=!1,i&&(i.dirty=!1),e[N]&=-9217,s)aC(r,e,r.template,e[Ue]);else if(o&8192){Kv(e),Yv(e,1);let a=r.components;a!==null&&Qv(e,a,1),qv(e)}}function Qv(e,t,n){for(let r=0;r<t.length;r++)lC(e,t[r],n)}function uC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)zn(~o);else{let i=o,s=n[++r],a=n[++r];oD(s,i);let c=t[i];J(24,c),a(2,c),J(25,c)}}}finally{zn(-1)}}function Kd(e,t){let n=Hg()?64:1088;for(e[cn].changeDetectionScheduler?.notify(t);e;){e[N]|=n;let r=Hn(e);if(da(e)&&!r)return e;e=r}return null}function Xv(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function dC(e,t){let n=Be+t;if(n<e.length)return e[n]}function Zd(e,t,n,r=!0){let o=t[j];if(hC(o,t,e,n),r){let s=Uu(n,e),a=t[he],c=a.parentNode(e[Vn]);c!==null&&VI(o,e[Ve],a,t,c,s)}let i=t[ri];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function fC(e,t){let n=_a(e,t);return n!==void 0&&Wd(n[j],n),n}function _a(e,t){if(e.length<=Be)return;let n=Be+t,r=e[n];if(r){let o=r[Un];o!==null&&o!==e&&qd(o,r),t>0&&(e[n-1][ht]=r[ht]);let i=sa(e,Be+t);UI(r[j],r);let s=i[Ut];s!==null&&s.detachView(i[j]),r[we]=null,r[ht]=null,r[N]&=-129}return r}function hC(e,t,n,r){let o=Be+r,i=n.length;r>0&&(n[o-1][ht]=t),r<i-Be?(t[ht]=n[o],wg(n,Be+r,t)):(n.push(t),t[ht]=null),t[we]=n;let s=t[Un];s!==null&&n!==s&&eb(s,t);let a=t[Ut];a!==null&&a.insertView(e),Su(t),t[N]|=128}function eb(e,t){let n=e[Br],r=t[we];if(Ln(r))e[N]|=2;else{let o=r[we][rt];t[rt]!==o&&(e[N]|=2)}n===null?e[Br]=[t]:n.push(t)}var ai=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[j];return ya(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ue]}set context(t){this._lView[Ue]=t}get destroyed(){return Wr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[we];if(Gt(t)){let n=t[ua],r=n?n.indexOf(this):-1;r>-1&&(_a(t,r),sa(n,r))}this._attachedToViewContainer=!1}Wd(this._lView[j],this._lView)}onDestroy(t){$g(this._lView,t)}markForCheck(){Kd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){Su(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Zv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=da(this._lView),n=this._lView[Un];n!==null&&!t&&qd(n,this._lView),$v(this._lView[j],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=t;let n=da(this._lView),r=this._lView[Un];r!==null&&!n&&eb(r,this._lView),Su(this._lView)}};var ci=(()=>{class e{static __NG_ELEMENT_ID__=gC}return e})(),pC=ci,mC=class extends pC{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Vd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new ai(o)}};function gC(){return za(xt(),Q())}function za(e,t){return e.type&4?new mC(t,e,Zr(e,t)):null}function pi(e,t,n,r,o){let i=e.data[t];if(i===null)i=vC(e,t,n,r,o),rD()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=eD();i.injectorIndex=s===null?-1:s.injectorIndex}return Wn(i,!0),i}function vC(e,t,n,r,o){let i=Vg(),s=_d(),a=s?i:i&&i.parent,c=e.data[t]=yC(e,a,n,t,r,o);return bC(e,c,i,s),c}function bC(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function yC(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Ug()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var B1=new RegExp(`^(\\d+)*(${GD}|${WD})*(.*)`);var _C=()=>null;function wa(e,t){return _C(e,t)}var wC=class{},tb=class{},Hu=class{resolveComponentFactory(t){throw Error(`No component factory found for ${je(t)}.`)}},qa=class{static NULL=new Hu},St=class{};var EC=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>null})}return e})();var hu={},zu=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=xa(r);let o=this.injector.get(t,hu,r);return o!==hu||n===hu?o:this.parentInjector.get(t,n,r)}};function qu(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=bu(o,a);else if(i==2){let c=a,l=t[++s];r=bu(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Yd(e,t=P.Default){let n=Q();if(n===null)return F(e,t);let r=xt();return cv(r,n,tt(e),t)}function Jd(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,c=null,l=null,u=IC(s);u===null?a=s:[a,c,l]=u,TC(e,t,n,a,i,c,l)}i!==null&&r!==null&&DC(n,r,i)}function DC(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new x(-301,!1);r.push(t[o],i)}}function IC(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Vt(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,CC(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function CC(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function SC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function TC(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&Vt(f)&&(c=!0,SC(e,n,p)),ED(ov(n,t),e,f.type)}OC(n,e.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Lv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=Ur(n.mergedAttrs,f.hostAttrs),MC(e,n,t,d,f),NC(d,f,o),s!==null&&s.has(f)){let[g,b]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,b+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let m=f.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}xC(e,n,i)}function xC(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Qm(0,t,o,r),Qm(1,t,o,r),eg(t,r,!1);else{let i=n.get(o);Xm(0,t,i,r),Xm(1,t,i,r),eg(t,r,!0)}}}function Qm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),nb(t,i)}}function Xm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),nb(t,s)}}function nb(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function eg(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||kd(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function MC(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=Lr(o.type,!0)),s=new ii(i,Vt(o),Yd);e.blueprint[r]=s,n[r]=s,AC(e,t,r,Lv(e,n,o.hostVars,Kt),o)}function AC(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;RC(s)!=a&&s.push(a),s.push(n,r,i)}}function RC(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function NC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Vt(t)&&(n[""]=e)}}function OC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function rb(e,t,n,r,o,i,s,a){let c=t.consts,l=$r(c,s),u=pi(t,e,2,r,l);return i&&Jd(t,n,u,$r(c,a),o),u.mergedAttrs=Ur(u.mergedAttrs,u.attrs),u.attrs!==null&&qu(u,u.attrs,!1),u.mergedAttrs!==null&&qu(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function ob(e,t){Sd(e,t),pd(t)&&e.queries.elementEnd(t)}var Ea=class extends qa{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=$n(t);return new Vr(n,this.ngModule)}};function kC(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&$a.SignalBased)!==0};return o&&(i.transform=o),i})}function PC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function FC(e,t,n){let r=t instanceof $e?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new zu(n,r):n}function LC(e){let t=e.get(St,null);if(t===null)throw new x(407,!1);let n=e.get(EC,null),r=e.get(si,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function jC(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Av(t,n,n==="svg"?Fg:n==="math"?V0:null)}var Vr=class extends tb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=kC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PC(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=yI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){J(22);let i=V(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:_I(this.componentDef.selectors[0]),c=Pd(0,null,null,1,0,null,null,null,null,[a],null),l=FC(s,o||this.ngModule,t),u=LC(l),d=u.rendererFactory.createRenderer(null,s),p=r?II(d,r,s.encapsulation,l):jC(s,d),f=Fd(null,c,null,512|Fv(s),null,null,u,d,l,null,Tv(p,l,!0));f[Ce]=p,Dd(f);let m=null;try{let g=rb(Ce,c,f,"#host",()=>[this.componentDef],!0,0);p&&(Nv(d,p,g),Jr(p,f)),Ua(c,f,g),Od(c,g,f),ob(c,g),n!==void 0&&BC(g,this.ngContentSelectors,n),m=Ht(g.index,f),f[Ue]=m[Ue],Ud(c,f,null)}catch(g){throw m!==null&&Fu(m),Fu(f),g}finally{J(23),Id()}return new Wu(this.componentType,f)}finally{V(i)}}},Wu=class extends wC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=md(n[j],Ce),this.location=Zr(this._tNode,n),this.instance=Ht(this._tNode.index,n)[Ue],this.hostView=this.changeDetectorRef=new ai(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=$d(r,o[j],o,t,n);this.previousInputValues.set(t,n);let s=Ht(r.index,o);Kd(s,1)}get injector(){return new jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function BC(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Jn=(()=>{class e{static __NG_ELEMENT_ID__=$C}return e})();function $C(){let e=xt();return sb(e,Q())}var UC=Jn,ib=class extends UC{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Zr(this._hostTNode,this._hostLView)}get injector(){return new jn(this._hostTNode,this._hostLView)}get parentInjector(){let t=Td(this._hostTNode,this._hostLView);if(tv(t)){let n=ha(t,this._hostLView),r=fa(t),o=n[j].data[r+8];return new jn(o,n)}else return new jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=tg(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=wa(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,ba(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!j0(t),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef}let c=s?t:new Vr($n(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let g=(s?l:this.parentInjector).get($e,null);g&&(i=g)}let u=$n(c.componentType??{}),d=wa(this._lContainer,u?.id??null),p=d?.firstChild??null,f=c.create(l,o,p,i);return this.insertImpl(f.hostView,a,ba(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(q0(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[we],l=new ib(c,c[Ve],c[we]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Zd(s,o,i,r),t.attachToViewContainerRef(),wg(pu(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=tg(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=_a(this._lContainer,n);r&&(sa(pu(this._lContainer),n),Wd(r[j],r))}detach(t){let n=this._adjustIndex(t,-1),r=_a(this._lContainer,n);return r&&sa(pu(this._lContainer),n)!=null?new ai(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function tg(e){return e[ua]}function pu(e){return e[ua]||(e[ua]=[])}function sb(e,t){let n,r=t[e.index];return Gt(r)?n=r:(n=Xv(r,t,null,e),t[e.index]=n,Ld(t,n)),HC(n,t,e,r),new ib(n,e,t)}function VC(e,t){let n=e[he],r=n.createComment(""),o=Tt(t,e),i=n.parentNode(o);return va(n,i,r,n.nextSibling(o),!1),r}var HC=WC,zC=()=>!1;function qC(e,t,n){return zC(e,t,n)}function WC(e,t,n,r){if(e[Vn])return;let o;n.type&8?o=It(r):o=VC(t,n),e[Vn]=o}var Gu=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ku=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Qd(t,n).matches!==null&&this.queries[n].setDirty()}},Zu=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=eS(t):this.predicate=t}},Yu=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ju=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,GC(n,i)),this.matchTNodeWithReadOption(t,n,ea(n,t,i,!1,!1))}else r===ci?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ea(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===He||o===Jn||o===ci&&n.type&4)this.addMatch(n.index,-2);else{let i=ea(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function GC(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function KC(e,t){return e.type&11?Zr(e,t):e.type&4?za(e,t):null}function ZC(e,t,n,r){return n===-1?KC(t,e):n===-2?YC(e,t,r):pa(e,e[j],n,t)}function YC(e,t,n){if(n===He)return Zr(t,e);if(n===ci)return za(t,e);if(n===Jn)return sb(t,e)}function ab(e,t,n,r){let o=t[Ut].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(ZC(t,u,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Qu(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=ab(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=t[-c];for(let d=Be;d<u.length;d++){let p=u[d];p[Un]===p[we]&&Qu(p[j],p,l,r)}if(u[Br]!==null){let d=u[Br];for(let p=0;p<d.length;p++){let f=d[p];Qu(f[j],f,l,r)}}}}}return r}function JC(e,t){return e[Ut].queries[t].queryList}function QC(e,t,n){let r=new Pu((n&4)===4);return K0(e,t,r,r.destroy),(t[Ut]??=new Ku).queries.push(new Gu(r))-1}function XC(e,t,n){let r=xe();return r.firstCreatePass&&(tS(r,new Zu(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),QC(r,Q(),t)}function eS(e){return e.split(",").map(t=>t.trim())}function tS(e,t,n){e.queries===null&&(e.queries=new Yu),e.queries.track(new Ju(t,n))}function Qd(e,t){return e.queries.getByIndex(t)}function nS(e,t){let n=e[j],r=Qd(n,t);return r.crossesNgTemplate?Qu(n,e,t,[]):ab(n,e,r,t)}var li=class{},Xd=class{};var Xu=class extends li{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ea(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Ig(t);this._bootstrapComponents=Ov(i.bootstrap),this._r3Injector=dv(t,n,[{provide:li,useValue:this},{provide:qa,useValue:this.componentFactoryResolver},...r],je(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ed=class extends Xd{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Xu(this.moduleType,t,[])}};var Da=class extends li{injector;componentFactoryResolver=new Ea(this);instance=null;constructor(t){super();let n=new ni([...t.providers,{provide:li,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],t.parent||Aa(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Wa(e,t,n=null){return new Da({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var rS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Cg(!1,n.type),o=r.length>0?Wa([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(F($e))})}return e})();function Me(e){return Sa(()=>{let t=cb(e),n=Y(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===yv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(rS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ct.Emulated,styles:e.styles||Le,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Ba("NgStandalone"),lb(n);let r=e.dependencies;return n.directiveDefs=ng(r,!1),n.pipeDefs=ng(r,!0),n.id=cS(n),n})}function oS(e){return $n(e)||S0(e)}function iS(e){return e!==null}function Ae(e){return Sa(()=>({type:e.type,bootstrap:e.bootstrap||Le,declarations:e.declarations||Le,imports:e.imports||Le,exports:e.exports||Le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sS(e,t){if(e==null)return Bn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=$a.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function aS(e){if(e==null)return Bn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Mt(e){return Sa(()=>{let t=cb(e);return lb(t),t})}function cb(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Bn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Le,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sS(e.inputs,t),outputs:aS(e.outputs),debugInfo:null}}function lb(e){e.features?.forEach(t=>t(e))}function ng(e,t){if(!e)return null;let n=t?T0:oS;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(iS)}function cS(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function lS(e){return Object.getPrototypeOf(e.prototype).constructor}function Ga(e){let t=lS(e.type),n=!0,r=[e];for(;t;){let o;if(Vt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new x(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=mu(e.inputs),s.declaredInputs=mu(e.declaredInputs),s.outputs=mu(e.outputs);let a=o.hostBindings;a&&pS(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&fS(e,c),l&&hS(e,l),uS(e,o),r0(e.outputs,o.outputs),Vt(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Ga&&(n=!1)}}t=Object.getPrototypeOf(t)}dS(r)}function uS(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function dS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Ur(o.hostAttrs,n=Ur(n,o.hostAttrs))}}function mu(e){return e===Bn?{}:e===Le?[]:e}function fS(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function hS(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function pS(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Qr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function mS(e,t,n,r,o,i,s,a,c){let l=t.consts,u=pi(t,e,4,s||null,a||null);yd()&&Jd(t,n,u,$r(l,c),Bd),u.mergedAttrs=Ur(u.mergedAttrs,u.attrs),Sd(t,u);let d=u.tView=Pd(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function ub(e,t,n,r,o,i,s,a,c,l){let u=n+Ce,d=t.firstCreatePass?mS(u,t,e,r,o,i,s,a,c):t.data[u];Wn(d,!1);let p=gS(t,e,d,n);Fa()&&Va(t,e,p,d),Jr(p,e);let f=Xv(p,e,p,d);return e[u]=f,Ld(e,f),qC(f,d,e),Na(d)&&Ua(t,e,d),c!=null&&jd(e,d,l),d}function Xr(e,t,n,r,o,i,s,a){let c=Q(),l=xe(),u=$r(l.consts,i);return ub(c,l,e,t,n,r,o,u,s,a),Xr}var gS=vS;function vS(e,t,n,r){return La(!0),t[he].createComment("")}var db=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var fb=new S("");var bS=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>new td})}return e})(),td=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Ka(e){return!!e&&typeof e.then=="function"}function yS(e){return!!e&&typeof e.subscribe=="function"}var _S=new S("");var hb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(_S,{optional:!0})??[];injector=v(Se);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=pt(this.injector,o);if(Ka(i))n.push(i);else if(yS(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ef=new S("");function wS(){jl(()=>{throw new x(600,!1)})}function ES(e){return e.isBoundToModule}var DS=10;var qt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(PD);afterRenderManager=v(ZD);zonelessEnabled=v(xd);rootEffectScheduler=v(bS);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new oe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=v(Kr).hasPendingTasks.pipe(k(n=>!n));constructor(){v(ja,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v($e);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Se.NULL){J(10);let i=n instanceof tb;if(!this._injector.get(hb).done){let f="";throw new x(405,f)}let a;i?a=n:a=this._injector.get(qa).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=ES(a)?void 0:this._injector.get(li),l=r||a.selector,u=a.create(o,[],l,c),d=u.location.nativeElement,p=u.injector.get(fb,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ta(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),J(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){J(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new x(101,!1);let n=V(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,V(n),this.afterTick.next(),J(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(St,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<DS;)J(14),this.synchronizeOnce(),J(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)IS(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Oa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ta(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ef,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ta(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ta(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function IS(e,t,n,r){if(!n&&!Oa(e))return;Zv(e,t,n&&!r?0:1)}function mt(e,t,n,r){let o=Q(),i=Pa();if(Qr(o,i,t)){let s=xe(),a=Jg();OI(a,o,e,t,n,r)}return mt}function CS(e,t,n,r){return Qr(e,Pa(),n)?t+cd(n)+r:Kt}function Ys(e,t){return e<<17|t<<2}function qn(e){return e>>17&32767}function SS(e){return(e&2)==2}function TS(e,t){return e&131071|t<<17}function nd(e){return e|2}function Hr(e){return(e&131068)>>2}function gu(e,t){return e&-131069|t<<2}function xS(e){return(e&1)===1}function rd(e){return e|1}function MS(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=qn(s),c=Hr(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||di(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let p=qn(e[a+1]);e[r+1]=Ys(p,a),p!==0&&(e[p+1]=gu(e[p+1],r)),e[a+1]=TS(e[a+1],r)}else e[r+1]=Ys(a,0),a!==0&&(e[a+1]=gu(e[a+1],r)),a=r;else e[r+1]=Ys(c,0),a===0?a=r:e[c+1]=gu(e[c+1],r),c=r;l&&(e[r+1]=nd(e[r+1])),rg(e,u,r,!0),rg(e,u,r,!1),AS(t,u,e,r,i),s=Ys(a,c),i?t.classBindings=s:t.styleBindings=s}function AS(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&di(i,t)>=0&&(n[r+1]=rd(n[r+1]))}function rg(e,t,n,r){let o=e[n+1],i=t===null,s=r?qn(o):Hr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];RS(c,t)&&(a=!0,e[s+1]=r?rd(l):nd(l)),s=r?qn(l):Hr(l)}a&&(e[n+1]=r?nd(o):rd(o))}function RS(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?di(e,t)>=0:!1}var ft={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function NS(e){return e.substring(ft.key,ft.keyEnd)}function OS(e){return kS(e),pb(e,mb(e,0,ft.textEnd))}function pb(e,t){let n=ft.textEnd;return n===t?-1:(t=ft.keyEnd=PS(e,ft.key=t,n),mb(e,t,n))}function kS(e){ft.key=0,ft.keyEnd=0,ft.value=0,ft.valueEnd=0,ft.textEnd=e.length}function mb(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function PS(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Qn(e,t,n){let r=Q(),o=Pa();if(Qr(r,o,t)){let i=xe(),s=Jg();xI(i,s,r,e,t,r[he],n,!1)}return Qn}function od(e,t,n,r,o){$d(t,e,n,o?"class":"style",r)}function mi(e,t,n){return gb(e,t,n,!1),mi}function un(e,t){return gb(e,t,null,!0),un}function gi(e){LS(HS,FS,e,!0)}function FS(e,t){for(let n=OS(t);n>=0;n=pb(t,n))dd(e,NS(t),!0)}function gb(e,t,n,r){let o=Q(),i=xe(),s=zg(2);if(i.firstUpdatePass&&bb(i,e,s,r),t!==Kt&&Qr(o,s,t)){let a=i.data[Gn()];yb(i,a,o,o[he],e,o[s+1]=qS(t,n),r,s)}}function LS(e,t,n,r){let o=xe(),i=zg(2);o.firstUpdatePass&&bb(o,null,i,r);let s=Q();if(n!==Kt&&Qr(s,i,n)){let a=o.data[Gn()];if(_b(a,r)&&!vb(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=bu(c,n||"")),od(o,a,s,n,r)}else zS(o,a,s,s[he],s[i+1],s[i+1]=VS(e,t,n),r,i)}}function vb(e,t){return t>=e.expandoStartIndex}function bb(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Gn()],s=vb(e,n);_b(i,r)&&t===null&&!s&&(t=!1),t=jS(o,i,t,r),MS(o,i,t,n,s,r)}}function jS(e,t,n,r){let o=sD(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=vu(null,e,t,n,r),n=ui(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=vu(o,e,t,n,r),i===null){let c=BS(e,t,r);c!==void 0&&Array.isArray(c)&&(c=vu(null,e,t,c[1],r),c=ui(c,t.attrs,r),$S(e,t,r,c))}else i=US(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function BS(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Hr(r)!==0)return e[qn(r)]}function $S(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[qn(o)]=r}function US(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=ui(r,s,n)}return ui(r,t.attrs,n)}function vu(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=ui(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ui(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),dd(e,s,n?!0:t[++i]))}return e===void 0?null:e}function VS(e,t,n){if(n==null||n==="")return Le;let r=[],o=Mv(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function HS(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&dd(e,r,n)}function zS(e,t,n,r,o,i,s,a){o===Kt&&(o=Le);let c=0,l=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;u!==null||d!==null;){let p=c<o.length?o[c+1]:void 0,f=l<i.length?i[l+1]:void 0,m=null,g;u===d?(c+=2,l+=2,p!==f&&(m=d,g=f)):d===null||u!==null&&u<d?(c+=2,m=u):(l+=2,m=d,g=f),m!==null&&yb(e,t,n,r,m,g,s,a),u=c<o.length?o[c]:null,d=l<i.length?i[l]:null}}function yb(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=xS(l)?og(c,t,n,o,Hr(l),s):void 0;if(!Ia(u)){Ia(i)||SS(l)&&(i=og(c,null,n,o,a,s));let d=Lg(Gn(),n);JI(r,s,d,o,i)}}function og(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[o+1];p===Kt&&(p=d?Le:void 0);let f=d?su(p,r):u===r?p:void 0;if(l&&!Ia(f)&&(f=su(c,r)),Ia(f)&&(a=f,s))return a;let m=e[o+1];o=s?qn(m):Hr(m)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=su(c,r))}return a}function Ia(e){return e!==void 0}function qS(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=je(Mv(e)))),e}function _b(e,t){return(e.flags&(t?8:16))!==0}function tf(e,t){Ba("NgControlFlow");let n=Q(),r=Pa(),o=n[r]!==Kt?n[r]:-1,i=o!==-1?ig(n,Ce+o):void 0,s=0;if(Qr(n,r,e)){let a=V(null);try{if(i!==void 0&&fC(i,s),e!==-1){let c=Ce+e,l=ig(n,c),u=WS(n[j],c),d=wa(l,u.tView.ssrId),p=Vd(n,u,t,{dehydratedView:d});Zd(l,p,s,ba(u,d))}}finally{V(a)}}else if(i!==void 0){let a=dC(i,s);a!==void 0&&(a[Ue]=t)}}function ig(e,t){return e[t]}function WS(e,t){return md(e,t)}function Re(e,t,n,r){let o=Q(),i=xe(),s=Ce+e,a=o[he],c=i.firstCreatePass?rb(s,i,o,t,Bd,yd(),n,r):i.data[s],l=GS(i,o,c,a,t,e);o[s]=l;let u=Na(c);return Wn(c,!0),Nv(a,l,c),!zd(c)&&Fa()&&Va(i,o,l,c),(Z0()===0||u)&&Jr(l,o),Y0(),u&&(Ua(i,o,c),Od(i,c,o)),r!==null&&jd(o,c),Re}function Ze(){let e=xt();_d()?wd():(e=e.parent,Wn(e,!1));let t=e;Q0(t)&&X0(),J0();let n=xe();return n.firstCreatePass&&ob(n,t),t.classesWithoutHost!=null&&hD(t)&&od(n,t,Q(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&pD(t)&&od(n,t,Q(),t.stylesWithoutHost,!1),Ze}function ze(e,t,n,r){return Re(e,t,n,r),Ze(),ze}var GS=(e,t,n,r,o,i)=>(La(!0),Av(r,o,uD()));function KS(e,t,n,r,o){let i=t.consts,s=$r(i,r),a=pi(t,e,8,"ng-container",s);s!==null&&qu(a,s,!0);let c=$r(i,o);return yd()&&Jd(t,n,a,c,Bd),a.mergedAttrs=Ur(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function wb(e,t,n){let r=Q(),o=xe(),i=e+Ce,s=o.firstCreatePass?KS(i,o,r,t,n):o.data[i];Wn(s,!0);let a=ZS(o,r,s,e);return r[i]=a,Fa()&&Va(o,r,a,s),Jr(a,r),Na(s)&&(Ua(o,r,s),Od(o,s,r)),n!=null&&jd(r,s),wb}function Eb(){let e=xt(),t=xe();return _d()?wd():(e=e.parent,Wn(e,!1)),t.firstCreatePass&&(Sd(t,e),pd(e)&&t.queries.elementEnd(e)),Eb}function vi(e,t,n){return wb(e,t,n),Eb(),vi}var ZS=(e,t,n,r)=>(La(!0),iI(t[he],""));var Ca="en-US";var YS=Ca;function JS(e){typeof e=="string"&&(YS=e.toLowerCase().replace(/_/g,"-"))}function sg(e,t,n){return function r(o){if(o===Function)return n;let i=qr(e)?Ht(e.index,t):t;Kd(i,5);let s=t[Ue],a=ag(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=ag(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function ag(e,t,n,r){let o=V(null);try{return J(6,t,n),n(r)!==!1}catch(i){return QS(e,i),!1}finally{J(7,t,n),V(o)}}function QS(e,t){let n=e[jr],r=n?n.get(zt,null):null;r&&r.handleError(t)}function cg(e,t,n,r,o,i){let s=t[n],a=t[j],l=a.data[n].outputs[r],u=s[l],d=a.firstCreatePass?bd(a):null,p=vd(t),f=u.subscribe(i),m=p.length;p.push(i,f),d&&d.push(o,e.index,m,-(m+1))}function nf(e,t,n,r){let o=Q(),i=xe(),s=xt();return eT(i,o,o[he],s,e,t,r),nf}function XS(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[ca],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function eT(e,t,n,r,o,i,s){let a=Na(r),l=e.firstCreatePass?bd(e):null,u=vd(t),d=!0;if(r.type&3||s){let p=Tt(r,t),f=s?s(p):p,m=u.length,g=s?y=>s(It(y[r.index])):r.index,b=null;if(!s&&a&&(b=XS(e,t,o,r.index)),b!==null){let y=b.__ngLastListenerFn__||b;y.__ngNextListenerFn__=i,b.__ngLastListenerFn__=i,d=!1}else{i=sg(r,t,i),JD(t,f,o,i);let y=n.listen(f,o,i);u.push(i,y),l&&l.push(o,g,m,m+1)}}else i=sg(r,t,i);if(d){let p=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let m=0;m<f.length;m+=2){let g=f[m],b=f[m+1];cg(r,t,g,b,o,i)}if(p&&p.length)for(let m of p)cg(r,t,m,o,o,i)}}function Db(e=1){return cD(e)}function tT(e,t){let n=null,r=pI(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?Pv(e,i,!0):vI(r,i))return o}return n}function rf(e){let t=Q()[rt][Ve];if(!t.projection){let n=e?e.length:1,r=t.projection=D0(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?tT(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function bi(e,t=0,n,r,o,i){let s=Q(),a=xe(),c=r?e+1:null;c!==null&&ub(s,a,c,r,o,i,null,n);let l=pi(a,Ce+e,16,null,n||null);l.projection===null&&(l.projection=t),wd();let d=!s[ri]||Ug();s[rt][Ve].projection[l.projection]===null&&c!==null?nT(s,a,c):d&&!zd(l)&&ZI(a,s,l)}function nT(e,t,n){let r=Ce+n,o=t.data[r],i=e[r],s=wa(i,o.tView.ssrId),a=Vd(e,o,void 0,{dehydratedView:s});Zd(i,a,0,ba(o,s))}function Ib(e,t,n){XC(e,t,n)}function Cb(e){let t=Q(),n=xe(),r=qg();Ed(r+1);let o=Qd(n,r);if(e.dirty&&z0(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=nS(t,r);e.reset(i,jD),e.notifyOnChanges()}return!0}return!1}function Sb(){return JC(Q(),qg())}function Tb(e){let t=tD();return H0(t,Ce+e)}function Za(e,t=""){let n=Q(),r=xe(),o=e+Ce,i=r.firstCreatePass?pi(r,o,1,t,null):r.data[o],s=rT(r,n,i,t,e);n[o]=s,Fa()&&Va(r,n,s,i),Wn(i,!1)}var rT=(e,t,n,r,o)=>(La(!0),rI(t[he],r));function of(e){return xb("",e,""),of}function xb(e,t,n){let r=Q(),o=CS(r,e,t,n);return o!==Kt&&oT(r,Gn(),o),xb}function oT(e,t,n){let r=Lg(t,e);oI(e[he],r,n)}function Mb(e,t){return za(e,t)}var id=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},sf=new id("19.2.17"),sd=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Ab=(()=>{class e{compileModuleSync(n){return new ed(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Ig(n),i=Ov(o.declarations).reduce((s,a)=>{let c=$n(a);return c&&s.push(new Vr(c)),s},[]);return new sd(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iT=(()=>{class e{zone=v(W);changeDetectionScheduler=v(si);applicationRef=v(qt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sT=new S("",{factory:()=>!1});function Rb({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new W(Y(w({},Ob()),{scheduleInRootZone:n})),[{provide:W,useFactory:e},{provide:ti,multi:!0,useFactory:()=>{let r=v(iT,{optional:!0});return()=>r.initialize()}},{provide:ti,multi:!0,useFactory:()=>{let r=v(aT);return()=>{r.initialize()}}},t===!0?{provide:hv,useValue:!0}:[],{provide:pv,useValue:n??fv}]}function Nb(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Rb({ngZoneFactory:()=>{let o=Ob(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&Ba("NgZone_CoalesceEvent"),new W(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return fd([{provide:sT,useValue:!0},{provide:xd,useValue:!1},r])}function Ob(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var aT=(()=>{class e{subscription=new ae;initialized=!1;zone=v(W);pendingTasks=v(Kr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cT=(()=>{class e{appRef=v(qt);taskService=v(Kr);ngZone=v(W);zonelessEnabled=v(xd);tracing=v(ja,{optional:!0});disableScheduling=v(hv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ae;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ga):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(pv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ku||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Hm:mv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ga+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lT(){return typeof $localize<"u"&&$localize.locale||Ca}var kb=new S("",{providedIn:"root",factory:()=>v(kb,P.Optional|P.SkipSelf)||lT()});var ad=new S(""),uT=new S("");function Jo(e){return!e.moduleRef}function dT(e){let t=Jo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(W);return n.run(()=>{Jo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(zt,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),Jo(e)){let i=()=>t.destroy(),s=e.platformInjector.get(ad);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(ad);s.add(i),e.moduleRef.onDestroy(()=>{ta(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return hT(r,n,()=>{let i=t.get(hb);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(kb,Ca);if(JS(s||Ca),!t.get(uT,!0))return Jo(e)?t.get(qt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Jo(e)){let c=t.get(qt);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return fT(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function fT(e,t){let n=e.injector.get(qt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new x(-403,!1);t.push(e)}function hT(e,t,n){try{let r=n();return Ka(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var na=null;function pT(e=[],t){return Se.create({name:t,providers:[{provide:Ma,useValue:"platform"},{provide:ad,useValue:new Set([()=>na=null])},...e]})}function mT(e=[]){if(na)return na;let t=pT(e);return na=t,wS(),gT(t),t}function gT(e){let t=e.get(Nd,null);pt(e,()=>{t?.forEach(n=>n())})}var af=(()=>{class e{static __NG_ELEMENT_ID__=vT}return e})();function vT(e){return bT(xt(),Q(),(e&16)===16)}function bT(e,t,n){if(qr(e)&&!n){let r=Ht(e.index,t);return new ai(r,r)}else if(e.type&175){let r=t[rt];return new ai(r,t)}return null}function Pb(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;J(8);try{let i=o?.injector??mT(r),s=[Rb({}),{provide:si,useExisting:cT},...n||[]],a=new Da({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return dT({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{J(9)}}function Xn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function yi(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function Fb(e,t){return Ll(e,t?.equal)}var lg=class{[ct];constructor(t){this[ct]=t}destroy(){this[ct].destroy()}};function Lb(e,t){let n=$n(e),r=t.elementInjector||Aa();return new Vr(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}var ie=new S("");var $b=null;function Zt(){return $b}function cf(e){$b??=e}var _i=class{},lf=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(Ub),providedIn:"platform"})}return e})();var Ub=(()=>{class e extends lf{_location;_history;_doc=v(ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zt().getBaseHref(this._doc)}onPopState(n){let r=Zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Vb(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function jb(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function dn(e){return e&&e[0]!=="?"?`?${e}`:e}var Ya=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(zb),providedIn:"root"})}return e})(),Hb=new S(""),zb=(()=>{class e extends Ya{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+dn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+dn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+dn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(F(lf),F(Hb,8))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eo=(()=>{class e{_subject=new oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=wT(jb(Bb(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+dn(r))}normalize(n){return e.stripTrailingSlash(_T(this._basePath,Bb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=dn;static joinWithSlash=Vb;static stripTrailingSlash=jb;static \u0275fac=function(r){return new(r||e)(F(Ya))};static \u0275prov=I({token:e,factory:()=>yT(),providedIn:"root"})}return e})();function yT(){return new eo(F(Ya))}function _T(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Bb(e){return e.replace(/\/index.html$/,"")}function wT(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var uf=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static \u0275fac=function(r){return new(r||e)(Yd(Jn))};static \u0275dir=Mt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[fi]})}return e})();var Ja=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ae({type:e});static \u0275inj=Te({})}return e})();function df(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Qa="browser",qb="server";function ff(e){return e===Qa}function Xa(e){return e===qb}var wi=class{};var nc=new S(""),gf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(F(nc),F(W))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Ei=class{_doc;constructor(t){this._doc=t}manager},ec="ng-app-id";function Wb(e){for(let t of e)t.remove()}function Gb(e,t){let n=t.createElement("style");return n.textContent=e,n}function IT(e,t,n,r){let o=e.head?.querySelectorAll(`style[${ec}="${t}"],link[${ec}="${t}"]`);if(o)for(let i of o)i.removeAttribute(ec),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function pf(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var vf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=Xa(i),IT(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Gb);r?.forEach(o=>this.addUsage(o,this.external,pf))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Wb(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Wb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Gb(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,pf(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ec,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(F(ie),F(Rd),F(hi,8),F(Zn))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),hf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bf=/%COMP%/g;var Zb="%COMP%",CT=`_nghost-${Zb}`,ST=`_ngcontent-${Zb}`,TT=!0,xT=new S("",{providedIn:"root",factory:()=>TT});function MT(e){return ST.replace(bf,e)}function AT(e){return CT.replace(bf,e)}function Yb(e,t){return t.map(n=>n.replace(bf,e))}var yf=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Xa(a),this.defaultRenderer=new Di(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ct.ShadowDom&&(r=Y(w({},r),{encapsulation:Ct.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof tc?o.applyToHost(n):o instanceof Ii&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Ct.Emulated:i=new tc(c,l,r,this.appId,u,s,a,d,p);break;case Ct.ShadowDom:return new mf(c,l,n,r,s,a,this.nonce,d,p);default:i=new Ii(c,l,r,u,s,a,d,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(F(gf),F(vf),F(Rd),F(xT),F(ie),F(Zn),F(W),F(hi),F(ja,8))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Di=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(hf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Kb(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Kb(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=hf[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=hf[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(ln.DashCase|ln.Important)?t.style.setProperty(n,r,o&ln.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ln.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Zt().getGlobalEventTarget(this.doc,t),!t))throw new x(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Kb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var mf=class extends Di{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Yb(o.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let p of d){let f=pf(p,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ii=class extends Di{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Yb(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},tc=class extends Ii{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,l,u),this.contentAttr=MT(u),this.hostAttr=AT(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var rc=class e extends _i{supportsDOMEvents=!0;static makeCurrent(){cf(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=RT();return n==null?null:NT(n)}resetBaseElement(){Ci=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return df(document.cookie,t)}},Ci=null;function RT(){return Ci=Ci||document.head.querySelector("base"),Ci?Ci.getAttribute("href"):null}function NT(e){return new URL(e,document.baseURI).pathname}var OT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Qb=(()=>{class e extends Ei{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(F(ie))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Jb=["alt","control","meta","shift"],kT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Xb=(()=>{class e extends Ei{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Jb.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=kT[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Jb.forEach(s=>{if(s!==o){let a=PT[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(F(ie))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function _f(e,t,n){return Pb(w({rootComponent:e,platformRef:n?.platformRef},FT(t)))}function FT(e){return{appProviders:[...UT,...e?.providers??[]],platformProviders:$T}}function LT(){rc.makeCurrent()}function jT(){return new zt}function BT(){return Iv(document),document}var $T=[{provide:Zn,useValue:Qa},{provide:Nd,useValue:LT,multi:!0},{provide:ie,useFactory:BT}];var UT=[{provide:Ma,useValue:"root"},{provide:zt,useFactory:jT},{provide:nc,useClass:Qb,multi:!0,deps:[ie]},{provide:nc,useClass:Xb,multi:!0,deps:[ie]},yf,vf,gf,{provide:St,useExisting:yf},{provide:wi,useClass:OT},[]];var ey=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(F(ie))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var O="primary",Bi=Symbol("RouteTitle"),Cf=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function nr(e){return new Cf(e)}function cy(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function zT(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!At(e[n],t[n]))return!1;return!0}function At(e,t){let n=e?Sf(e):void 0,r=t?Sf(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!ly(e[o],t[o]))return!1;return!0}function Sf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function ly(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function uy(e){return e.length>0?e[e.length-1]:null}function pn(e){return tu(e)?e:Ka(e)?ee(Promise.resolve(e)):A(e)}var qT={exact:fy,subset:hy},dy={exact:WT,subset:GT,ignored:()=>!0};function ty(e,t,n){return qT[n.paths](e.root,t.root,n.matrixParams)&&dy[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function WT(e,t){return At(e,t)}function fy(e,t,n){if(!er(e.segments,t.segments)||!sc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!fy(e.children[r],t.children[r],n))return!1;return!0}function GT(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>ly(e[n],t[n]))}function hy(e,t,n){return py(e,t,t.segments,n)}function py(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!er(o,n)||t.hasChildren()||!sc(o,n,r))}else if(e.segments.length===n.length){if(!er(e.segments,n)||!sc(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!hy(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!er(e.segments,o)||!sc(e.segments,o,r)||!e.children[O]?!1:py(e.children[O],t,i,r)}}function sc(e,t,n){return t.every((r,o)=>dy[n](e[o].parameters,r.parameters))}var Nt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new z([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){return YT.serialize(this)}},z=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ac(this)}},fn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=nr(this.parameters),this._parameterMap}toString(){return gy(this)}};function KT(e,t){return er(e,t)&&e.every((n,r)=>At(n.parameters,t[r].parameters))}function er(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function ZT(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===O&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==O&&(n=n.concat(t(o,r)))}),n}var $i=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new rr,providedIn:"root"})}return e})(),rr=class{parse(t){let n=new xf(t);return new Nt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Si(t.root,!0)}`,r=XT(t.queryParams),o=typeof t.fragment=="string"?`#${JT(t.fragment)}`:"";return`${n}${r}${o}`}},YT=new rr;function ac(e){return e.segments.map(t=>gy(t)).join("/")}function Si(e,t){if(!e.hasChildren())return ac(e);if(t){let n=e.children[O]?Si(e.children[O],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==O&&r.push(`${o}:${Si(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ZT(e,(r,o)=>o===O?[Si(e.children[O],!1)]:[`${o}:${Si(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[O]!=null?`${ac(e)}/${n[0]}`:`${ac(e)}/(${n.join("//")})`}}function my(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oc(e){return my(e).replace(/%3B/gi,";")}function JT(e){return encodeURI(e)}function Tf(e){return my(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cc(e){return decodeURIComponent(e)}function ny(e){return cc(e.replace(/\+/g,"%20"))}function gy(e){return`${Tf(e.path)}${QT(e.parameters)}`}function QT(e){return Object.entries(e).map(([t,n])=>`;${Tf(t)}=${Tf(n)}`).join("")}function XT(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${oc(n)}=${oc(o)}`).join("&"):`${oc(n)}=${oc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var ex=/^[^\/()?;#]+/;function wf(e){let t=e.match(ex);return t?t[0]:""}var tx=/^[^\/()?;=#]+/;function nx(e){let t=e.match(tx);return t?t[0]:""}var rx=/^[^=?&#]+/;function ox(e){let t=e.match(rx);return t?t[0]:""}var ix=/^[^&#]+/;function sx(e){let t=e.match(ix);return t?t[0]:""}var xf=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[O]=new z(t,n)),r}parseSegment(){let t=wf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(t),new fn(cc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=nx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=wf(this.remaining);o&&(r=o,this.capture(r))}t[cc(n)]=cc(r)}parseQueryParam(t){let n=ox(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=sx(this.remaining);s&&(r=s,this.capture(r))}let o=ny(n),i=ny(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new x(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=O);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[O]:new z([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new x(4011,!1)}};function vy(e){return e.segments.length>0?new z([],{[O]:e}):e}function by(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=by(o);if(r===O&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new z(e.segments,t);return ax(n)}function ax(e){if(e.numberOfChildren===1&&e.children[O]){let t=e.children[O];return new z(e.segments.concat(t.segments),t.children)}return e}function io(e){return e instanceof Nt}function yy(e,t,n=null,r=null){let o=_y(e);return wy(o,t,n,r)}function _y(e){let t;function n(i){let s={};for(let c of i.children){let l=n(c);s[c.outlet]=l}let a=new z(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=vy(r);return t??o}function wy(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Ef(o,o,o,n,r);let i=cx(t);if(i.toRoot())return Ef(o,o,new z([],{}),n,r);let s=lx(i,o,e),a=s.processChildren?xi(s.segmentGroup,s.index,i.commands):Dy(s.segmentGroup,s.index,i.commands);return Ef(o,s.segmentGroup,a,n,r)}function uc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ai(e){return typeof e=="object"&&e!=null&&e.outlets}function Ef(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=Ey(e,t,n);let a=vy(by(s));return new Nt(a,i,o)}function Ey(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=Ey(i,t,n)}),new z(e.segments,r)}var dc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&uc(r[0]))throw new x(4003,!1);let o=r.find(Ai);if(o&&o!==uy(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new dc(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new dc(n,t,r)}var ro=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function lx(e,t,n){if(e.isAbsolute)return new ro(t,!0,0);if(!n)return new ro(t,!1,NaN);if(n.parent===null)return new ro(n,!0,0);let r=uc(e.commands[0])?0:1,o=n.segments.length-1+r;return ux(n,o,e.numberOfDoubleDots)}function ux(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new x(4005,!1);o=r.segments.length}return new ro(r,!1,o-i)}function dx(e){return Ai(e[0])?e[0].outlets:{[O]:e}}function Dy(e,t,n){if(e??=new z([],{}),e.segments.length===0&&e.hasChildren())return xi(e,t,n);let r=fx(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new z(e.segments.slice(0,r.pathIndex),{});return i.children[O]=new z(e.segments.slice(r.pathIndex),e.children),xi(i,0,o)}else return r.match&&o.length===0?new z(e.segments,{}):r.match&&!e.hasChildren()?Mf(e,t,n):r.match?xi(e,0,o):Mf(e,t,n)}function xi(e,t,n){if(n.length===0)return new z(e.segments,{});{let r=dx(n),o={};if(Object.keys(r).some(i=>i!==O)&&e.children[O]&&e.numberOfChildren===1&&e.children[O].segments.length===0){let i=xi(e.children[O],t,n);return new z(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Dy(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new z(e.segments,o)}}function fx(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(Ai(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!oy(c,l,s))return i;r+=2}else{if(!oy(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Mf(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(Ai(i)){let c=hx(i.outlets);return new z(r,c)}if(o===0&&uc(n[0])){let c=e.segments[t];r.push(new fn(c.path,ry(n[0]))),o++;continue}let s=Ai(i)?i.outlets[O]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&uc(a)?(r.push(new fn(s,ry(a))),o+=2):(r.push(new fn(s,{})),o++)}return new z(r,{})}function hx(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Mf(new z([],{}),0,r))}),t}function ry(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function oy(e,t,n){return e==n.path&&At(t,n.parameters)}var lc="imperative",ge=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ge||{}),Je=class{id;url;constructor(t,n){this.id=t,this.url=n}},or=class extends Je{type=ge.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yt=class extends Je{urlAfterRedirects;type=ge.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(qe||{}),Ri=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ri||{}),Rt=class extends Je{reason;code;type=ge.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jt=class extends Je{reason;code;type=ge.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},so=class extends Je{error;target;type=ge.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ni=class extends Je{urlAfterRedirects;state;type=ge.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fc=class extends Je{urlAfterRedirects;state;type=ge.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hc=class extends Je{urlAfterRedirects;state;shouldActivate;type=ge.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pc=class extends Je{urlAfterRedirects;state;type=ge.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mc=class extends Je{urlAfterRedirects;state;type=ge.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gc=class{route;type=ge.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vc=class{route;type=ge.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bc=class{snapshot;type=ge.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yc=class{snapshot;type=ge.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_c=class{snapshot;type=ge.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wc=class{snapshot;type=ge.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Oi=class{},ao=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function px(e,t){return e.providers&&!e._injector&&(e._injector=Wa(e.providers,t,`Route: ${e.path}`)),e._injector??t}function gt(e){return e.outlet||O}function mx(e,t){let n=e.filter(r=>gt(r)===t);return n.push(...e.filter(r=>gt(r)!==t)),n}function Ui(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ec=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ui(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new uo(this.rootInjector)}},uo=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ec(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(F($e))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Af(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Af(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Rf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Rf(t,this._root).map(n=>n.value)}};function Af(e,t){if(e===t.value)return t;for(let n of t.children){let r=Af(e,n);if(r)return r}return null}function Rf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Rf(e,n);if(r.length)return r.unshift(t),r}return[]}var Ye=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function no(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ki=class extends Dc{snapshot;constructor(t,n){super(t),this.snapshot=n,Bf(this,t)}toString(){return this.snapshot.toString()}};function Iy(e){let t=gx(e),n=new de([new fn("",{})]),r=new de({}),o=new de({}),i=new de({}),s=new de(""),a=new hn(n,r,i,s,o,O,e,t.root);return a.snapshot=t.root,new ki(new Ye(a,[]),t)}function gx(e){let t={},n={},r={},o="",i=new tr([],t,r,o,n,O,e,null,{});return new Pi("",new Ye(i,[]))}var hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(k(l=>l[Bi]))??A(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(t=>nr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(t=>nr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ic(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&Sy(o)&&(r.resolve[Bi]=o.title),r}var tr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Bi]}constructor(t,n,r,o,i,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Pi=class extends Dc{url;constructor(t,n){super(n),this.url=t,Bf(this,n)}toString(){return Cy(this._root)}};function Bf(e,t){t.value._routerState=e,t.children.forEach(n=>Bf(e,n))}function Cy(e){let t=e.children.length>0?` { ${e.children.map(Cy).join(", ")} } `:"";return`${e.value}${t}`}function Df(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,At(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),At(t.params,n.params)||e.paramsSubject.next(n.params),zT(t.url,n.url)||e.urlSubject.next(n.url),At(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Nf(e,t){let n=At(e.params,t.params)&&KT(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Nf(e.parent,t.parent))}function Sy(e){return typeof e.title=="string"||e.title===null}var Ty=new S(""),Vi=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new Ie;deactivateEvents=new Ie;attachEvents=new Ie;detachEvents=new Ie;routerOutletData=vv(void 0);parentContexts=v(uo);location=v(Jn);changeDetector=v(af);inputBinder=v(xc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Of(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Mt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fi]})}return e})(),Of=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===hn?this.route:t===uo?this.childContexts:t===Ty?this.outletData:this.parent.get(t,n)}},xc=new S("");var $f=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Me({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ze(0,"router-outlet")},dependencies:[Vi],encapsulation:2})}return e})();function Uf(e){let t=e.children&&e.children.map(Uf),n=t?Y(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=$f),n}function vx(e,t,n){let r=Fi(e,t._root,n?n._root:void 0);return new ki(r,t)}function Fi(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=bx(e,t,n);return new Ye(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Fi(e,a)),s}}let r=yx(t.value),o=t.children.map(i=>Fi(e,i));return new Ye(r,o)}}function bx(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Fi(e,r,o);return Fi(e,r)})}function yx(e){return new hn(new de(e.url),new de(e.params),new de(e.queryParams),new de(e.fragment),new de(e.data),e.outlet,e.component,e)}var co=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},xy="ngNavigationCancelingError";function Cc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=io(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=My(!1,qe.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function My(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[xy]=!0,n.cancellationCode=t,n}function _x(e){return Ay(e)&&io(e.url)}function Ay(e){return!!e&&e[xy]}var wx=(e,t,n,r)=>k(o=>(new kf(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),kf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Df(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=no(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=no(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=no(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=no(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new wc(i.value.snapshot))}),t.children.length&&this.forwardEvent(new yc(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(Df(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Df(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Sc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},oo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Ex(e,t,n){let r=e._root,o=t?t._root:null;return Ti(r,o,n,[r.value])}function Dx(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function fo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!pg(e)?e:t.get(e):r}function Ti(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=no(t);return e.children.forEach(s=>{Ix(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Mi(a,n.getContext(s),o)),o}function Ix(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=Cx(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Sc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Ti(e,t,a?a.children:null,r,o):Ti(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new oo(a.outlet.component,s))}else s&&Mi(t,a,o),o.canActivateChecks.push(new Sc(r)),i.component?Ti(e,null,a?a.children:null,r,o):Ti(e,null,n,r,o);return o}function Cx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!er(e.url,t.url);case"pathParamsOrQueryParamsChange":return!er(e.url,t.url)||!At(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nf(e,t)||!At(e.queryParams,t.queryParams);case"paramsChange":default:return!Nf(e,t)}}function Mi(e,t,n){let r=no(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Mi(s,t.children.getContext(i),n):Mi(s,null,n):Mi(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new oo(t.outlet.component,o)):n.canDeactivateChecks.push(new oo(null,o)):n.canDeactivateChecks.push(new oo(null,o))}function Hi(e){return typeof e=="function"}function Sx(e){return typeof e=="boolean"}function Tx(e){return e&&Hi(e.canLoad)}function xx(e){return e&&Hi(e.canActivate)}function Mx(e){return e&&Hi(e.canActivateChild)}function Ax(e){return e&&Hi(e.canDeactivate)}function Rx(e){return e&&Hi(e.canMatch)}function Ry(e){return e instanceof Bt||e?.name==="EmptyError"}var ic=Symbol("INITIAL_VALUE");function lo(){return Fe(e=>Ar(e.map(t=>t.pipe(ut(1),Yo(ic)))).pipe(k(t=>{for(let n of t)if(n!==!0){if(n===ic)return ic;if(n===!1||Nx(n))return n}return!0}),Ke(t=>t!==ic),ut(1)))}function Nx(e){return io(e)||e instanceof co}function Ox(e,t){return fe(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?A(Y(w({},n),{guardsResult:!0})):kx(s,r,o,e).pipe(fe(a=>a&&Sx(a)?Px(r,i,e,t):A(a)),k(a=>Y(w({},n),{guardsResult:a})))})}function kx(e,t,n,r){return ee(e).pipe(fe(o=>$x(o.component,o.route,n,t,r)),$t(o=>o!==!0,!0))}function Px(e,t,n,r){return ee(t).pipe(Rr(o=>rn(Lx(o.route.parent,r),Fx(o.route,r),Bx(e,o.path,n),jx(e,o.route,n))),$t(o=>o!==!0,!0))}function Fx(e,t){return e!==null&&t&&t(new _c(e)),A(!0)}function Lx(e,t){return e!==null&&t&&t(new bc(e)),A(!0)}function jx(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let o=r.map(i=>Ks(()=>{let s=Ui(t)??n,a=fo(i,s),c=xx(a)?a.canActivate(t,e):pt(s,()=>a(t,e));return pn(c).pipe($t())}));return A(o).pipe(lo())}function Bx(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>Dx(s)).filter(s=>s!==null).map(s=>Ks(()=>{let a=s.guards.map(c=>{let l=Ui(s.node)??n,u=fo(c,l),d=Mx(u)?u.canActivateChild(r,e):pt(l,()=>u(r,e));return pn(d).pipe($t())});return A(a).pipe(lo())}));return A(i).pipe(lo())}function $x(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return A(!0);let s=i.map(a=>{let c=Ui(t)??o,l=fo(a,c),u=Ax(l)?l.canDeactivate(e,t,n,r):pt(c,()=>l(e,t,n,r));return pn(u).pipe($t())});return A(s).pipe(lo())}function Ux(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return A(!0);let i=o.map(s=>{let a=fo(s,e),c=Tx(a)?a.canLoad(t,n):pt(e,()=>a(t,n));return pn(c)});return A(i).pipe(lo(),Ny(r))}function Ny(e){return Gl(_e(t=>{if(typeof t!="boolean")throw Cc(e,t)}),k(t=>t===!0))}function Vx(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return A(!0);let i=o.map(s=>{let a=fo(s,e),c=Rx(a)?a.canMatch(t,n):pt(e,()=>a(t,n));return pn(c)});return A(i).pipe(lo(),Ny(r))}var Li=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ji=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function to(e){return Mr(new Li(e))}function Hx(e){return Mr(new x(4e3,!1))}function zx(e){return Mr(My(!1,qe.GuardRejected))}var Pf=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return A(r);if(o.numberOfChildren>1||!o.children[O])return Hx(`${t.redirectTo}`);o=o.children[O]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,params:f,data:m,title:g}=o,b=pt(i,()=>a({params:f,data:m,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,title:g}));if(b instanceof Nt)throw new ji(b);n=b}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ji(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new Nt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new z(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new x(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},Ff={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qx(e,t,n,r,o){let i=Oy(e,t,n);return i.matched?(r=px(t,r),Vx(r,t,n,o).pipe(k(s=>s===!0?i:w({},Ff)))):A(i)}function Oy(e,t,n){if(t.path==="**")return Wx(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},Ff):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||cy)(n,e,t);if(!o)return w({},Ff);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Wx(e){return{matched:!0,parameters:e.length>0?uy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function iy(e,t,n,r){return n.length>0&&Zx(e,n,r)?{segmentGroup:new z(t,Kx(r,new z(n,e.children))),slicedSegments:[]}:n.length===0&&Yx(e,n,r)?{segmentGroup:new z(e.segments,Gx(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new z(e.segments,e.children),slicedSegments:n}}function Gx(e,t,n,r){let o={};for(let i of n)if(Mc(e,t,i)&&!r[gt(i)]){let s=new z([],{});o[gt(i)]=s}return w(w({},r),o)}function Kx(e,t){let n={};n[O]=t;for(let r of e)if(r.path===""&&gt(r)!==O){let o=new z([],{});n[gt(r)]=o}return n}function Zx(e,t,n){return n.some(r=>Mc(e,t,r)&&gt(r)!==O)}function Yx(e,t,n){return n.some(r=>Mc(e,t,r))}function Mc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Jx(e,t,n){return t.length===0&&!e.children[n]}var Lf=class{};function Qx(e,t,n,r,o,i,s="emptyOnly"){return new jf(e,t,n,r,o,s,i).recognize()}var Xx=31,jf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Pf(this.urlSerializer,this.urlTree)}noMatchError(t){return new x(4002,`'${t.segmentGroup}'`)}recognize(){let t=iy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(k(({children:n,rootSnapshot:r})=>{let o=new Ye(r,n),i=new Pi("",o),s=yy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new tr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,O,n).pipe(k(r=>({children:r,rootSnapshot:n})),on(r=>{if(r instanceof ji)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Li?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(k(s=>s instanceof Ye?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ee(i).pipe(Rr(s=>{let a=r.children[s],c=mx(n,s);return this.processSegmentGroup(t,c,a,s,o)}),iu((s,a)=>(s.push(...a),s)),sn(null),ou(),fe(s=>{if(s===null)return to(r);let a=ky(s);return eM(a),A(a)}))}processSegment(t,n,r,o,i,s,a){return ee(n).pipe(Rr(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(on(l=>{if(l instanceof Li)return A(null);throw l}))),$t(c=>!!c),on(c=>{if(Ry(c))return Jx(r,o,i)?A(new Lf):to(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return gt(r)!==s&&(s===O||!Mc(o,i,r))?to(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):to(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=Oy(n,o,i);if(!c)return to(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xx&&(this.allowRedirects=!1));let f=new tr(i,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,sy(o),gt(o),o.component??o._loadedComponent??null,o,ay(o)),m=Ic(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(m.params),f.data=Object.freeze(m.data);let g=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(o,g).pipe(fe(b=>this.processSegment(t,r,n,b.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=qx(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Fe(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Fe(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:f}=c,m=new tr(p,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,sy(r),gt(r),r.component??r._loadedComponent??null,r,ay(r)),g=Ic(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let{segmentGroup:b,slicedSegments:y}=iy(n,p,f,l);if(y.length===0&&b.hasChildren())return this.processChildren(u,l,b,m).pipe(k(E=>new Ye(m,E)));if(l.length===0&&y.length===0)return A(new Ye(m,[]));let L=gt(r)===i;return this.processSegment(u,l,b,y,L?O:i,!0,m).pipe(k(E=>new Ye(m,E instanceof Ye?[E]:[])))}))):to(n)))}getChildConfig(t,n,r){return n.children?A({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):Ux(t,n,r,this.urlSerializer).pipe(fe(o=>o?this.configLoader.loadChildren(t,n).pipe(_e(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):zx(n))):A({routes:[],injector:t})}};function eM(e){e.sort((t,n)=>t.value.outlet===O?-1:n.value.outlet===O?1:t.value.outlet.localeCompare(n.value.outlet))}function tM(e){let t=e.value.routeConfig;return t&&t.path===""}function ky(e){let t=[],n=new Set;for(let r of e){if(!tM(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=ky(r.children);t.push(new Ye(r.value,o))}return t.filter(r=>!n.has(r))}function sy(e){return e.data||{}}function ay(e){return e.resolve||{}}function nM(e,t,n,r,o,i){return fe(s=>Qx(e,t,n,r,s.extractedUrl,o,i).pipe(k(({state:a,tree:c})=>Y(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function rM(e,t){return fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return A(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of Py(c))s.add(l);let a=0;return ee(s).pipe(Rr(c=>i.has(c)?oM(c,r,e,t):(c.data=Ic(c,c.parent,e).resolve,A(void 0))),_e(()=>a++),Nr(1),fe(c=>a===s.size?A(n):ke))})}function Py(e){let t=e.children.map(n=>Py(n)).flat();return[e,...t]}function oM(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!Sy(o)&&(i[Bi]=o.title),iM(i,e,t,r).pipe(k(s=>(e._resolvedData=s,e.data=Ic(e,e.parent,n).resolve,null)))}function iM(e,t,n,r){let o=Sf(e);if(o.length===0)return A({});let i={};return ee(o).pipe(fe(s=>sM(e[s],t,n,r).pipe($t(),_e(a=>{if(a instanceof co)throw Cc(new rr,a);i[s]=a}))),Nr(1),k(()=>i),on(s=>Ry(s)?ke:Mr(s)))}function sM(e,t,n,r){let o=Ui(t)??r,i=fo(e,o),s=i.resolve?i.resolve(t,n):pt(o,()=>i(t,n));return pn(s)}function If(e){return Fe(t=>{let n=e(t);return n?ee(n).pipe(k(()=>t)):A(t)})}var Vf=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===O);return r}getResolvedTitleForRoute(n){return n.data[Bi]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(Fy),providedIn:"root"})}return e})(),Fy=(()=>{class e extends Vf{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(F(ey))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zi=new S("",{providedIn:"root",factory:()=>({})}),qi=new S(""),Ly=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(Ab);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return A(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=pn(n.loadComponent()).pipe(k(By),_e(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),Ko(()=>{this.componentLoaders.delete(n)})),o=new Tr(r,()=>new oe).pipe(Sr());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=jy(r,this.compiler,n,this.onLoadEndListener).pipe(Ko(()=>{this.childrenLoaders.delete(r)})),s=new Tr(i,()=>new oe).pipe(Sr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jy(e,t,n,r){return pn(e.loadChildren()).pipe(k(By),fe(o=>o instanceof Xd||Array.isArray(o)?A(o):ee(t.compileModuleAsync(o))),k(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(qi,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uf),injector:i}}))}function aM(e){return e&&typeof e=="object"&&"default"in e}function By(e){return aM(e)?e.default:e}var Ac=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(cM),providedIn:"root"})}return e})(),cM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$y=new S("");var Uy=new S(""),Vy=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new oe;transitionAbortSubject=new oe;configLoader=v(Ly);environmentInjector=v($e);destroyRef=v(Kn);urlSerializer=v($i);rootContexts=v(uo);location=v(eo);inputBindingEnabled=v(xc,{optional:!0})!==null;titleStrategy=v(Vf);options=v(zi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(Ac);createViewTransition=v($y,{optional:!0});navigationErrorHandler=v(Uy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>A(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new gc(o)),r=o=>this.events.next(new vc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Y(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new de(null),this.transitions.pipe(Ke(r=>r!==null),Fe(r=>{let o=!1,i=!1;return A(r).pipe(Fe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qe.SupersededByNewNavigation),ke;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Y(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Jt(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ri.IgnoredSameUrlNavigation)),s.resolve(!1),ke}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return A(s).pipe(Fe(l=>(this.events.next(new or(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ke:Promise.resolve(l))),nM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Y(w({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Ni(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:p,extras:f}=s,m=new or(l,this.urlSerializer.serialize(u),d,p);this.events.next(m);let g=Iy(this.rootComponentType).snapshot;return this.currentTransition=r=Y(w({},s),{targetSnapshot:g,urlAfterRedirects:u,extras:Y(w({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,A(r)}else{let l="";return this.events.next(new Jt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ri.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ke}}),_e(s=>{let a=new fc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),k(s=>(this.currentTransition=r=Y(w({},s),{guards:Ex(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Ox(this.environmentInjector,s=>this.events.next(s)),_e(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Cc(this.urlSerializer,s.guardsResult);let a=new hc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ke(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",qe.GuardRejected),!1)),If(s=>{if(s.guards.canActivateChecks.length!==0)return A(s).pipe(_e(a=>{let c=new pc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Fe(a=>{let c=!1;return A(a).pipe(rM(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",qe.NoDataFromResolver)}}))}),_e(a=>{let c=new mc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),If(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(_e(u=>{c.component=u}),k(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Ar(a(s.targetSnapshot.root)).pipe(sn(null),ut(1))}),If(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ee(c).pipe(k(()=>r)):A(r)}),k(s=>{let a=vx(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Y(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),_e(()=>{this.events.next(new Oi)}),wx(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ut(1),_e({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Pn(this.transitionAbortSubject.pipe(_e(s=>{throw s}))),Ko(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",qe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),on(s=>{if(this.destroyed)return r.resolve(!1),ke;if(i=!0,Ay(s))this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),_x(s)?this.events.next(new ao(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new so(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=pt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof co){let{message:l,cancellationCode:u}=Cc(this.urlSerializer,c);this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new ao(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ke}))}))}cancelNavigationTransition(n,r,o){let i=new Rt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lM(e){return e!==lc}var Hy=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(uM),providedIn:"root"})}return e})(),Tc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},uM=(()=>{class e extends Tc{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Gr(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zy=(()=>{class e{urlSerializer=v($i);options=v(zi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(eo);urlHandlingStrategy=v(Ac);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Nt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Nt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=Iy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(dM),providedIn:"root"})}return e})(),dM=(()=>{class e extends zy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof or?this.updateStateMemento():n instanceof Jt?this.commitTransition(r):n instanceof Ni?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Oi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Rt&&(n.code===qe.GuardRejected||n.code===qe.NoDataFromResolver)?this.restoreHistory(r):n instanceof so?this.restoreHistory(r,!0):n instanceof Yt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Gr(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hf(e,t){e.events.pipe(Ke(n=>n instanceof Yt||n instanceof Rt||n instanceof so||n instanceof Jt),k(n=>n instanceof Yt||n instanceof Jt?0:(n instanceof Rt?n.code===qe.Redirect||n.code===qe.SupersededByNewNavigation:!1)?2:1),Ke(n=>n!==2),ut(1)).subscribe(()=>{t()})}var fM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rc=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(db);stateManager=v(zy);options=v(zi,{optional:!0})||{};pendingTasks=v(Kr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Vy);urlSerializer=v($i);location=v(eo);urlHandlingStrategy=v(Ac);_events=new oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(Hy);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(qi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(xc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ae;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Rt&&r.code!==qe.Redirect&&r.code!==qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yt)this.navigated=!0;else if(r instanceof ao){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lM(o.source)},s);this.scheduleNavigation(a,lc,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}mM(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Uf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=_y(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return wy(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=io(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,lc,null,r)}navigate(n,r={skipLocationChange:!1}){return pM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=w({},fM):r===!1?o=w({},hM):o=r,io(n))return ty(this.currentUrlTree,n,o);let i=this.parseUrl(n);return ty(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return Hf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new x(4008,!1)}function mM(e){return!(e instanceof Oi)&&!(e instanceof ao)}var vM=new S("");function zf(e,...t){return fd([{provide:qi,multi:!0,useValue:e},[],{provide:hn,useFactory:bM,deps:[Rc]},{provide:ef,multi:!0,useFactory:yM},t.map(n=>n.\u0275providers)])}function bM(e){return e.routerState.root}function yM(){let e=v(Se);return t=>{let n=e.get(qt);if(t!==n.components[0])return;let r=e.get(Rc),o=e.get(_M);e.get(wM)===1&&r.initialNavigation(),e.get(EM,null,P.Optional)?.setUpPreloading(),e.get(vM,null,P.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var _M=new S("",{factory:()=>new oe}),wM=new S("",{providedIn:"root",factory:()=>1});var EM=new S("");function Wi(e){return e.buttons===0||e.detail===0}function Gi(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var qf;function qy(){if(qf==null){let e=typeof document<"u"?document.head:null;qf=!!(e&&(e.createShadowRoot||e.attachShadow))}return qf}function Wf(e){if(qy()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function vt(e){return e.composedPath?e.composedPath()[0]:e.target}function ir(e,t,n,r,o){let i=parseInt(sf.major),s=parseInt(sf.minor);return i>19||i===19&&s>0||i===0&&s===0?e.listen(t,n,r,o):(t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)})}var Gf;try{Gf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Gf=!1}var bt=(()=>{class e{_platformId=v(Zn);isBrowser=this._platformId?ff(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Gf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ki;function Wy(){if(Ki==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ki=!0}))}finally{Ki=Ki||!1}return Ki}function ho(e){return Wy()?e:!!e.capture}function mn(e){return e instanceof He?e.nativeElement:e}var Gy=new S("cdk-input-modality-detector-options"),Ky={ignoreKeys:[18,17,224,91,16]},Zy=650,Kf={passive:!0,capture:!0},Yy=(()=>{class e{_platform=v(bt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new de(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(r=>r===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=vt(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<Zy||(this._modality.next(Wi(n)?"keyboard":"mouse"),this._mostRecentTarget=vt(n))};_onTouchstart=n=>{if(Gi(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=vt(n)};constructor(){let n=v(W),r=v(ie),o=v(Gy,{optional:!0});if(this._options=w(w({},Ky),o),this.modalityDetected=this._modality.pipe(Zo(1)),this.modalityChanged=this.modalityDetected.pipe(ru()),this._platform.isBrowser){let i=v(St).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[ir(i,r,"keydown",this._onKeydown,Kf),ir(i,r,"mousedown",this._onMousedown,Kf),ir(i,r,"touchstart",this._onTouchstart,Kf)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zi=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Zi||{}),Jy=new S("cdk-focus-monitor-default-options"),Nc=ho({passive:!0,capture:!0}),Zf=(()=>{class e{_ngZone=v(W);_platform=v(bt);_inputModalityDetector=v(Yy);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=v(ie,{optional:!0});_stopInputModalityDetector=new oe;constructor(){let n=v(Jy,{optional:!0});this._detectionMode=n?.detectionMode||Zi.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let r=vt(n);for(let o=r;o;o=o.parentElement)n.type==="focus"?this._onFocus(n,o):this._onBlur(n,o)};monitor(n,r=!1){let o=mn(n);if(!this._platform.isBrowser||o.nodeType!==1)return A();let i=Wf(o)||this._getDocument(),s=this._elementInfo.get(o);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new oe,rootNode:i};return this._elementInfo.set(o,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let r=mn(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let i=mn(n),s=this._getDocument().activeElement;i===s?this._getClosestElementsInfo(i).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof i.focus=="function"&&i.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Zi.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Zi.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Zy:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),i=vt(n);!o||!o.checkChildren&&r!==i||this._originChanged(r,this._getFocusOrigin(i),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nc),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nc)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pn(this._stopInputModalityDetector)).subscribe(i=>{this._setOrigin(i,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nc),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nc),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,i)=>{(i===n||o.checkChildren&&i.contains(n))&&r.push([i,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let i=n.labels;if(i){for(let s=0;s<i.length;s++)if(i[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Oc=new WeakMap,Yi=(()=>{class e{_appRef;_injector=v(Se);_environmentInjector=v($e);load(n){let r=this._appRef=this._appRef||this._injector.get(qt),o=Oc.get(r);o||(o={loaders:new Set,refs:[]},Oc.set(r,o),r.onDestroy(()=>{Oc.get(r)?.refs.forEach(i=>i.destroy()),Oc.delete(r)})),o.loaders.has(n)||(o.loaders.add(n),o.refs.push(Lb(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yf(e){return Array.isArray(e)?e:[e]}var Qy=new Set,sr,IM=(()=>{class e{_platform=v(bt);_nonce=v(hi,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):SM}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&CM(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CM(e,t){if(!Qy.has(e))try{sr||(sr=document.createElement("style"),t&&sr.setAttribute("nonce",t),sr.setAttribute("type","text/css"),document.head.appendChild(sr)),sr.sheet&&(sr.sheet.insertRule(`@media ${e} {body{ }}`,0),Qy.add(e))}catch(n){console.error(n)}}function SM(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var e_=(()=>{class e{_mediaMatcher=v(IM);_zone=v(W);_queries=new Map;_destroySubject=new oe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Xy(Yf(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=Xy(Yf(n)).map(s=>this._registerQuery(s).observable),i=Ar(o);return i=rn(i.pipe(ut(1)),i.pipe(Zo(1),nu(0))),i.pipe(k(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),i={observable:new H(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Yo(r),k(({matches:s})=>({query:n,matches:s})),Pn(this._destroySubject)),mql:r};return this._queries.set(n,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xy(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var gn=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(gn||{}),t_="cdk-high-contrast-black-on-white",n_="cdk-high-contrast-white-on-black",Jf="cdk-high-contrast-active",Qf=(()=>{class e{_platform=v(bt);_hasCheckedHighContrastMode;_document=v(ie);_breakpointSubscription;constructor(){this._breakpointSubscription=v(e_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return gn.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,i=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),i){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return gn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return gn.BLACK_ON_WHITE}return gn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(Jf,t_,n_),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===gn.BLACK_ON_WHITE?n.add(Jf,t_):r===gn.WHITE_ON_BLACK&&n.add(Jf,n_)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var it=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(it||{}),Xf=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=it.HIDDEN;constructor(t,n,r,o=!1){this._renderer=t,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=o}fadeOut(){this._renderer.fadeOutRipple(this)}},r_=ho({passive:!0,capture:!0}),eh=class{_events=new Map;addHandler(t,n,r,o){let i=this._events.get(n);if(i){let s=i.get(r);s?s.add(o):i.set(r,new Set([o]))}else this._events.set(n,new Map([[r,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,r_)})}removeHandler(t,n,r){let o=this._events.get(t);if(!o)return;let i=o.get(n);i&&(i.delete(r),i.size===0&&o.delete(n),o.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,r_)))}_delegateEventHandler=t=>{let n=vt(t);n&&this._events.get(t.type)?.forEach((r,o)=>{(o===n||o.contains(n))&&r.forEach(i=>i.handleEvent(t))})}},Ji={enterDuration:225,exitDuration:150},TM=800,o_=ho({passive:!0,capture:!0}),i_=["mousedown","touchstart"],s_=["mouseup","mouseleave","touchend","touchcancel"],xM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Me({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,o){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return e})(),kc=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new eh;constructor(t,n,r,o,i){this._target=t,this._ngZone=n,this._platform=o,o.isBrowser&&(this._containerElement=mn(r)),i&&i.get(Yi).load(xM)}fadeInRipple(t,n,r={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=w(w({},Ji),r.animation);r.centered&&(t=o.left+o.width/2,n=o.top+o.height/2);let s=r.radius||MM(t,n,o),a=t-o.left,c=n-o.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),p=d.transitionProperty,f=d.transitionDuration,m=p==="none"||f==="0s"||f==="0s, 0s"||o.width===0&&o.height===0,g=new Xf(this,u,r,m);u.style.transform="scale3d(1, 1, 1)",g.state=it.FADING_IN,r.persistent||(this._mostRecentTransientRipple=g);let b=null;return!m&&(l||i.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>{b&&(b.fallbackTimer=null),clearTimeout(E),this._finishRippleTransition(g)},L=()=>this._destroyRipple(g),E=setTimeout(L,l+100);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",L),b={onTransitionEnd:y,onTransitionCancel:L,fallbackTimer:E}}),this._activeRipples.set(g,b),(m||!l)&&this._finishRippleTransition(g),g}fadeOutRipple(t){if(t.state===it.FADING_OUT||t.state===it.HIDDEN)return;let n=t.element,r=w(w({},Ji),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=it.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=mn(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,i_.forEach(r=>{e._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{s_.forEach(n=>{this._triggerElement.addEventListener(n,this,o_)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===it.FADING_IN?this._startFadeOutTransition(t):t.state===it.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=it.VISIBLE,!r&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=it.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=Wi(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+TM;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Gi(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===it.VISIBLE||t.config.terminateOnPointerUp&&t.state===it.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(i_.forEach(n=>e._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(s_.forEach(n=>t.removeEventListener(n,this,o_)),this._pointerUpEventsRegistered=!1))}};function MM(e,t,n){let r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),o=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+o*o)}var a_=new S("mat-ripple-global-options");var AM={capture:!0},RM=["focus","mousedown","mouseenter","touchstart"],th="mat-ripple-loader-uninitialized",nh="mat-ripple-loader-class-name",c_="mat-ripple-loader-centered",Pc="mat-ripple-loader-disabled",l_=(()=>{class e{_document=v(ie);_animationMode=v(Yn,{optional:!0});_globalRippleOptions=v(a_,{optional:!0});_platform=v(bt);_ngZone=v(W);_injector=v(Se);_eventCleanups;_hosts=new Map;constructor(){let n=v(St).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>RM.map(r=>ir(n,this._document,r,this._onInteraction,AM)))}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(n,r){n.setAttribute(th,this._globalRippleOptions?.namespace??""),(r.className||!n.hasAttribute(nh))&&n.setAttribute(nh,r.className||""),r.centered&&n.setAttribute(c_,""),r.disabled&&n.setAttribute(Pc,"")}setDisabled(n,r){let o=this._hosts.get(n);o?(o.target.rippleDisabled=r,!r&&!o.hasSetUpEvents&&(o.hasSetUpEvents=!0,o.renderer.setupTriggerEvents(n))):r?n.setAttribute(Pc,""):n.removeAttribute(Pc)}_onInteraction=n=>{let r=vt(n);if(r instanceof HTMLElement){let o=r.closest(`[${th}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(nh)),n.append(r);let o=this._animationMode==="NoopAnimations",i=this._globalRippleOptions,s=o?0:i?.animation?.enterDuration??Ji.enterDuration,a=o?0:i?.animation?.exitDuration??Ji.exitDuration,c={rippleDisabled:o||i?.disabled||n.hasAttribute(Pc),rippleConfig:{centered:n.hasAttribute(c_),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},l=new kc(c,this._ngZone,r,this._platform,this._injector),u=!c.rippleDisabled;u&&l.setupTriggerEvents(n),this._hosts.set(n,{target:c,renderer:l,hasSetUpEvents:u}),n.removeAttribute(th)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Me({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,o){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return e})();var NM=new S("MAT_BUTTON_CONFIG");var OM=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],d_=(()=>{class e{_elementRef=v(He);_ngZone=v(W);_animationMode=v(Yn,{optional:!0});_focusMonitor=v(Zf);_rippleLoader=v(l_);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){v(Yi).load(u_);let n=v(NM,{optional:!0}),r=this._elementRef.nativeElement,o=r.classList;this.disabledInteractive=n?.disabledInteractive??!1,this.color=n?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(let{attribute:i,mdcClasses:s}of OM)r.hasAttribute(i)&&o.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Mt({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Xn],disabled:[2,"disabled","disabled",Xn],ariaDisabled:[2,"aria-disabled","ariaDisabled",Xn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xn]}})}return e})();var rh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ae({type:e});static \u0275inj=Te({})}return e})();var vn=(()=>{class e{constructor(){v(Qf)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ae({type:e});static \u0275inj=Te({imports:[rh,rh]})}return e})();var f_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ae({type:e});static \u0275inj=Te({imports:[vn,vn]})}return e})();var kM=["mat-button",""],PM=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],FM=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var h_=(()=>{class e extends d_{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Gr(e)))(o||e)}})();static \u0275cmp=Me({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(mt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),gi(o.color?"mat-"+o.color:""),un("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ga],attrs:kM,ngContentSelectors:FM,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(rf(PM),ze(0,"span",0),bi(1),Re(2,"span",1),bi(3,1),Ze(),bi(4,2),ze(5,"span",2)(6,"span",3)),r&2&&un("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return e})();var p_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ae({type:e});static \u0275inj=Te({imports:[vn,f_,vn]})}return e})();var jM=["determinateSpinner"];function BM(e,t){if(e&1&&(Cd(),Re(0,"svg",11),ze(1,"circle",12),Ze()),e&2){let n=Db();mt("viewBox",n._viewBox()),ot(),mi("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeCircumference()/2,"px")("stroke-width",n._circleStrokeWidth(),"%"),mt("r",n._circleRadius())}}var $M=new S("mat-progress-spinner-default-options",{providedIn:"root",factory:UM});function UM(){return{diameter:m_}}var m_=100,VM=10,g_=(()=>{class e{_elementRef=v(He);_noopAnimations;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;_defaultColor="primary";_determinateCircle;constructor(){let n=v(Yn,{optional:!0}),r=v($M);this._noopAnimations=n==="NoopAnimations"&&!!r&&!r._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,n||0))}_value=0;get diameter(){return this._diameter}set diameter(n){this._diameter=n||0}_diameter=m_;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=n||0}_strokeWidth;_circleRadius(){return(this.diameter-VM)/2}_viewBox(){let n=this._circleRadius()*2+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Me({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,o){if(r&1&&Ib(jM,5),r&2){let i;Cb(i=Sb())&&(o._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,o){r&2&&(mt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),gi("mat-"+o.color),mi("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),un("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",yi],diameter:[2,"diameter","diameter",yi],strokeWidth:[2,"strokeWidth","strokeWidth",yi]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,o){if(r&1&&(Xr(0,BM,2,8,"ng-template",null,0,Mb),Re(2,"div",2,1),Cd(),Re(4,"svg",3),ze(5,"circle",4),Ze()(),Qg(),Re(6,"div",5)(7,"div",6)(8,"div",7),vi(9,8),Ze(),Re(10,"div",9),vi(11,8),Ze(),Re(12,"div",10),vi(13,8),Ze()()()),r&2){let i=Tb(1);ot(4),mt("viewBox",o._viewBox()),ot(),mi("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),mt("r",o._circleRadius()),ot(4),Qn("ngTemplateOutlet",i),ot(2),Qn("ngTemplateOutlet",i),ot(2),Qn("ngTemplateOutlet",i)}},dependencies:[uf],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return e})();var v_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ae({type:e});static \u0275inj=Te({imports:[vn]})}return e})();var _p=bE(aE(),1),{PostgrestError:_8,FunctionsHttpError:w8,FunctionsFetchError:E8,FunctionsRelayError:D8,FunctionsError:I8,FunctionRegion:C8,SupabaseClient:S8,createClient:cE,GoTrueAdminApi:T8,GoTrueClient:x8,AuthAdminApi:M8,AuthClient:A8,navigatorLock:R8,NavigatorLockAcquireTimeoutError:N8,lockInternals:O8,processLock:k8,SIGN_OUT_SCOPES:P8,AuthError:F8,AuthApiError:L8,AuthUnknownError:j8,CustomAuthError:B8,AuthSessionMissingError:$8,AuthInvalidTokenResponseError:U8,AuthInvalidCredentialsError:V8,AuthImplicitGrantRedirectError:H8,AuthPKCEGrantCodeExchangeError:z8,AuthRetryableFetchError:q8,AuthWeakPasswordError:W8,AuthInvalidJwtError:G8,isAuthError:K8,isAuthApiError:Z8,isAuthSessionMissingError:Y8,isAuthImplicitGrantRedirectError:J8,isAuthRetryableFetchError:Q8,isAuthWeakPasswordError:X8,RealtimePresence:eq,RealtimeChannel:tq,RealtimeClient:nq,REALTIME_LISTEN_TYPES:rq,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:oq,REALTIME_PRESENCE_LISTEN_EVENTS:iq,REALTIME_SUBSCRIBE_STATES:sq,REALTIME_CHANNEL_STATES:aq}=_p.default||_p;var wp={supabase:{url:"https://vjrvtswtivqhuivatvnt.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZqcnZ0c3d0aXZxaHVpdmF0dm50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNzUzODksImV4cCI6MjA4MDg1MTM4OX0.SSk1fN_bny9qY0yoRN13eLdJikFfkqe39Vz_w_0LbBg"}};var wl=class e{client;constructor(){this.client=cE(wp.supabase.url,wp.supabase.anonKey,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}})}getClient(){return this.client}static \u0275fac=function(n){return new(n||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var El=class e{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.getClient()}supabase;getMovies(){return ee(this.supabase?.from("movies").select("title")).pipe(k(({data:t,error:n})=>{if(n)throw n;return t.map(r=>r.title)}))}addMovie(t){return ee(this.supabase.from("movies").insert({title:t})).pipe(k(({error:n})=>{if(n&&!n.message.includes("duplicate"))throw n}))}incrementViews(t){return ee(this.supabase.from("movies").select("views").eq("title",t).single()).pipe(Fe(({data:n,error:r})=>{if(r)throw r;return ee(this.supabase.from("movies").update({views:(n?.views||0)+1}).eq("title",t))}),k(()=>{}))}static \u0275fac=function(n){return new(n||e)(F(wl))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};function Ep(e,t){let n=!t?.manualCleanup;n&&!t?.injector&&Mg(Ep);let r=n?t?.injector?.get(Kn)??v(Kn):null,o=mR(t?.equal),i;t?.requireSync?i=Yr({kind:0},{equal:o}):i=Yr({kind:1,value:t?.initialValue},{equal:o});let s,a=e.subscribe({next:c=>i.set({kind:1,value:c}),error:c=>{if(t?.rejectErrors)throw c;i.set({kind:2,error:c})},complete:()=>{s?.()}});if(t?.requireSync&&i().kind===0)throw new x(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Fb(()=>{let c=i();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new x(601,!1)}},{equal:t?.equal})}function mR(e=Object.is){return(t,n)=>t.kind===1&&n.kind===1&&e(t.value,n.value)}function vR(e,t){e&1&&(Re(0,"div",1),Za(1),Ze()),e&2&&(ot(),of(t))}function bR(e,t){e&1&&(ze(0,"mat-spinner",3),Za(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... "))}function yR(e,t){e&1&&Za(0," \u{1F3B2} \u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u044B\u0439 \u0444\u0438\u043B\u044C\u043C ")}var Dl=class e{filmService=v(El);movies=Ep(this.filmService.getMovies(),{initialValue:[]});selectedMovie=Yr(null);isLoading=Yr(!1);pickRandomMovie(){let t=this.movies();if(t.length===0||this.isLoading())return;let n=t[Math.floor(Math.random()*t.length)];this.isLoading.set(!0),this.filmService.incrementViews(n).subscribe({next:()=>{this.selectedMovie.set(n),this.isLoading.set(!1)},error:r=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432",r),this.isLoading.set(!1)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Me({type:e,selectors:[["app-home"]],decls:5,vars:3,consts:[[1,"result-wrapper"],[1,"result"],["matButton","filled","mat-raised-button","","color","primary",1,"button",3,"click","disabled"],["diameter","20",2,"margin-right","8px"]],template:function(n,r){if(n&1&&(Re(0,"div",0),Xr(1,vR,2,1,"div",1),Re(2,"button",2),nf("click",function(){return r.pickRandomMovie()}),Xr(3,bR,2,0)(4,yR,1,0),Ze()()),n&2){let o;ot(),tf((o=r.selectedMovie())?1:-1,o),ot(),Qn("disabled",r.isLoading()||r.movies().length===0),ot(),tf(r.isLoading()?3:4)}},dependencies:[p_,h_,Ja,v_,g_],styles:["[_nghost-%COMP%]{display:block;background-color:#e9e9e9;width:100vw;height:100vh}.result-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.result[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;text-align:center;color:#086221}.button[_ngcontent-%COMP%]{font-size:18px;padding:15px 30px}.button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;align-items:center;justify-content:center}  .button .mdc-button__label{display:flex!important}"]})};var lE=[{path:"",pathMatch:"full",component:Dl},{path:"**",redirectTo:""}];var uE={providers:[Nb({eventCoalescing:!0}),zf(lE)]};var Il=class e{title="superenot-films";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Me({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&ze(0,"router-outlet")},dependencies:[Vi],encapsulation:2})};_f(Il,uE).catch(e=>console.error(e));
